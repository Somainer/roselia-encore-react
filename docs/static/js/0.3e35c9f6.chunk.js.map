{"version":3,"sources":["components/index.tsx","rhodonite/lazycomponent.tsx","webpack:///./src/rhodonite/lazycomponent.css?c96c","rhodonite/lazycomponent.css","rhodonite/lazyimage.tsx","webpack:///./src/components/encore.css?4bfb","components/section.tsx","components/member.tsx","components/banner.tsx","components/encore.css","components/track.tsx","components/video.tsx"],"names":["Index","_super","__WEBPACK_IMPORTED_MODULE_0_tslib__","Object","defineProperty","prototype","siteConfig","this","props","language","renderComponent","RenderComponent","eternal","_this","__WEBPACK_IMPORTED_MODULE_1_react__","strictProps","index","site","className","__WEBPACK_IMPORTED_MODULE_2__components_banner__","bannerImage","style","textAlign","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","centered","src","siteLogo","logoSpin","configName","Group","__WEBPACK_IMPORTED_MODULE_5_react_router_dom__","to","positive","Or","__WEBPACK_IMPORTED_MODULE_12__rhodonite_lazycomponent__","__WEBPACK_IMPORTED_MODULE_3__components_section__","albums","externalTrackLists","map","et","videos","__WEBPACK_IMPORTED_MODULE_11__video__","indexPage","match","path","render","StatedRoute","_a","component","rest","__WEBPACK_IMPORTED_MODULE_8__rhodonite_component__","AsyncMemberPage","__WEBPACK_IMPORTED_MODULE_7__rhodonite_asynccomponent__","Promise","resolve","then","__webpack_require__","bind","p","MemberPage","parentPath","__WEBPACK_IMPORTED_MODULE_6_react_router__","exact","__WEBPACK_IMPORTED_MODULE_10__track__","etl","displayName","en","__WEBPACK_IMPORTED_MODULE_9__notfound__","LazyComonent","call","setVisible","onVisible","setState","visible","state","shouldComponentUpdate","getPlaceHolder","placeHolder","Function","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","Paragraph","listener","once","onTopVisible","onBottomVisible","children","content","module","i","options","hmr","transform","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","lazySrc","LazyImage","setLoaded","loaded","placeHolderImage","withImage","Image","hidden","onLoad","imageContent","__WEBPACK_IMPORTED_MODULE_3__lazycomponent__","EncoreCard","sc","isOuterLink","link","test","linkProps","as","__WEBPACK_IMPORTED_MODULE_6__rhodonite_lazyimage__","lazyImageSrc","Column","key","title","fluid","backgroundColor","color","onClick","secondaryImage","animated","Content","image","Header","isDark","meta","Meta","description","Description","EncoreSection","stackable","Row","columns","data","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazycomponent__","dark","memberSection","si","mi","members","getters","languageGetter","ml","__WEBPACK_IMPORTED_MODULE_4__rhodonite_protocols_helpers__","configs","cn","jp","m","name","memberImageGetter","cvImageGetter","encoreColor","role","CVName","split","birthdayMembers","filter","x","birthday","Plugin","plugins","member","bm","singleSection","ti","singles","single","sectionProps","t","trackImageGetter","hasLimitedEdition","limitedTrackImageGetter","displayId","id","num","positionWithNumByNum","albumSection","generalSection","gs","trackList","trackType","notFoundMember","horoscope","iterAttribute","attr","Array","optionalBoolean","f","IndentText","indent","textIndent","fontSize","HiddenText","_b","apply","arguments","methods","__WEBPACK_IMPORTED_MODULE_6__rhodonite_utils_selfish__","memberLayout","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","fontWeight","marginBottom","marginTop","getContextText","__WEBPACK_IMPORTED_MODULE_2__rhodonite_protocols_helpers__","isInBirthday","size","icon","componentWillMount","componentDidMount","window","scroll","getCurrentMember","currentMember","toLowerCase","params","ctx","__WEBPACK_IMPORTED_MODULE_4_src_rhodonite_protocols_helpers__","Date","memberFound","__WEBPACK_IMPORTED_MODULE_7__notfound__","IntroLayout","introLayout","__WEBPACK_IMPORTED_MODULE_5_src_rhodonite_component__","height","text","AttrWithTitle","when","header","MoegirlLink","wikiName","generator","wiki","href","WikiLink","s","__WEBPACK_IMPORTED_MODULE_8__rhodonite_lazyimage__","padding","vertical","container","verticalAlign","width","bloodType","mlt","external","ex","e","idx","floated","bordered","rounded","BannerImage","fillHeight","bannerImageStyle","display","justifyContent","alignItems","position","zIndex","imageStyle","animation","animationDelay","animationFillMode","gradient","backgroundImage","background","backgroundSize","foreground","backGroundStyle","tp","class_1","getCurrentTrack","findIn","TrackPage","getPositionByNum","cachedTrack","undefined","scrollTo","ls","matchRes","exec","trackId","pos","intIdx_1","parseInt","find","hasValidTrack","track","date","releaseDate","today","toLocaleDateString","type","calendarIconClass","localReleaseDate","infoLayout","__WEBPACK_IMPORTED_MODULE_3__member__","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazyimage__","links","l","__WEBPACK_IMPORTED_MODULE_6_src_rhodonite_component__","__WEBPACK_IMPORTED_MODULE_5__notfound__","SingleTrackPage","AlbumTrackPage","VideoModal","getVideoAdapter","forceVideo","renderModal","adapter","videoAdapter","video","dimmer","open","onClose","authors","length","v","__WEBPACK_IMPORTED_MODULE_4__section__","coverImage","getLink","aid","author","VideoSection","section","currentVideo","isVisible","closeModal","__WEBPACK_IMPORTED_MODULE_3_react_router__","videoLib"],"mappings":"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","file":"static/js/0.3e35c9f6.chunk.js","sourcesContent":["import * as React from 'react'\r\n\r\n// import starlight from '../encoreInfo/starlight'\r\n// import roselia from '../encoreInfo/roselia'\r\n\r\nimport {BannerImage} from '../components/banner'\r\nimport {memberSection, singleSection, albumSection, generalSection} from '../components/section'\r\nimport { SiteConfig, SupportedLanguages } from 'src/rhodonite/protocols/encore';\r\nimport { Image, Button } from 'semantic-ui-react'\r\nimport {Link} from 'react-router-dom'\r\nimport {Route, Switch} from 'react-router'\r\nimport {asyncComponent} from '../rhodonite/asynccomponent'\r\nimport {ScrollToTopRouter} from '../rhodonite/component'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport { NotFound } from './notfound';\r\nimport { SingleTrackPage, AlbumTrackPage, customTrackPage } from './track'\r\nimport {VideoSection} from './video'\r\nimport {LazyComonent} from '../rhodonite/lazycomponent'\r\n\r\ninterface IndexProps extends RouteComponentProps<{}> {\r\n    siteConfig: SiteConfig\r\n    language: SupportedLanguages\r\n}\r\n\r\nexport class Index extends React.Component<IndexProps, {}> {\r\n\r\n    /*private setEncore (obj: SiteConfig) {\r\n        return () => this.setState({\r\n            siteConfig: obj\r\n        })\r\n    }*/\r\n    private get strictProps () {\r\n        return {\r\n            siteConfig: this.props.siteConfig,\r\n            language: this.props.language\r\n        }\r\n    }\r\n    private renderComponent(RenderComponent: React.ComponentType<any>, eternal: any) {\r\n        return (props: object) => {\r\n            return (<RenderComponent {...props} {...this.strictProps} {...eternal}></RenderComponent>)\r\n        }\r\n    }\r\n\r\n    private index() {\r\n        const site = this.props.siteConfig\r\n        return (\r\n            <div className=\"App\">\r\n                <BannerImage {...site.bannerImage}></BannerImage>\r\n                <header className=\"App-header\" style={{textAlign: 'center'}}>\r\n                    <Image centered src={site.siteLogo} className={site.logoSpin ? \"App-logo\" : \"\"} />\r\n                    {/* <img src={logo} className=\"App-logo\"></img> */}\r\n                    <h1 className=\"App-title\">Roselia Encore</h1>\r\n                    <p>Current config: {site.configName}</p>\r\n                    <p className=\"App-intro\">\r\n                    <p>Made with love by Somainer</p>\r\n                    {/* To get started, edit <code>src/App.tsx</code> and save to reload. */}\r\n                    </p>\r\n                    <p>为了演示可扩展性，目前这里有两个预制配置，阁下（DD）想要看哪一个？</p>\r\n                    <Button.Group>\r\n                    <Link to=\"/\"><Button positive={site.configName === 'roselia'}>Roselia</Button></Link>\r\n                    <Button.Or />\r\n                    <Link to=\"/starlight/\"><Button positive={site.configName === 'starlight'}>Revue Starlight</Button></Link>\r\n                    </Button.Group>\r\n                </header>\r\n                <LazyComonent>\r\n                    {memberSection(site, this.props.language)}\r\n                </LazyComonent>\r\n                <LazyComonent>\r\n                    {singleSection(site, this.props.language)}\r\n                    {site.albums && albumSection(site, this.props.language)}\r\n                    {site.externalTrackLists && site.externalTrackLists.map(et => generalSection(et, site, this.props.language))}\r\n                </LazyComonent>\r\n                <LazyComonent>\r\n                    {site.videos && <VideoSection siteConfig={site} videos={site.videos} indexPage={this.props.match.path}></VideoSection>}\r\n                </LazyComonent>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    public render () {\r\n        const StatedRoute = ({component, ...rest}: {component: React.ComponentType, [att: string]: any}) => (\r\n            <ScrollToTopRouter {...rest} render={this.renderComponent(component, rest.eternal)}></ScrollToTopRouter>\r\n          )\r\n        const AsyncMemberPage = asyncComponent(() => import('../components/member').then(p => p.MemberPage))\r\n        const parentPath = this.props.match.path\r\n        return (<div>\r\n            <Switch>\r\n                <Route exact path={parentPath}>{this.index()}</Route>\r\n                {/* <Route path=\"member/:member\"></Route> */}\r\n                <StatedRoute path={parentPath + \"member/:member/\"} component={AsyncMemberPage}></StatedRoute>\r\n                <StatedRoute path={parentPath + \"single/:trackId/\"} component={SingleTrackPage}></StatedRoute>\r\n                {this.props.siteConfig.albums && (\r\n                    <StatedRoute path={parentPath + \"album/:trackId/\"} component={AlbumTrackPage}></StatedRoute>\r\n                )}\r\n                {this.props.siteConfig.externalTrackLists && this.props.siteConfig.externalTrackLists.map(etl => (\r\n                    <StatedRoute path={parentPath + `${etl.displayName.en}/:trackId/`} component={customTrackPage(etl)}></StatedRoute>\r\n                ))}\r\n                <Route component={NotFound}></Route>\r\n            </Switch>\r\n            \r\n        </div>)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.tsx","import * as React from 'react'\r\nimport {Placeholder, Visibility} from 'semantic-ui-react'\r\nimport './lazycomponent.css'\r\n\r\n\r\ninterface LazyComonentState {\r\n    visible: boolean\r\n}\r\n\r\n\r\ninterface LazyComonentProps {\r\n    placeHolder?: (() => JSX.Element | React.ReactNode) | JSX.Element | React.ReactNode\r\n    onVisible?: () => void\r\n    [ext: string]: any\r\n}\r\n\r\n\r\nexport class LazyComonent extends React.Component<LazyComonentProps, LazyComonentState> {\r\n    public constructor(props: LazyComonentProps) {\r\n        super(props)\r\n        this.state = {\r\n            visible: false\r\n        }\r\n    }\r\n    private setVisible = () => {\r\n        if(this.props.onVisible) this.props.onVisible()\r\n        this.setState({\r\n            visible: true\r\n        })\r\n    }\r\n    public shouldComponentUpdate () {\r\n        return this.state.visible\r\n    }\r\n    private getPlaceHolder () {\r\n        const {placeHolder} = this.props\r\n        if (placeHolder) {\r\n            if(placeHolder instanceof Function) {\r\n                return placeHolder()\r\n            }\r\n            return placeHolder\r\n        }\r\n        return (\r\n            <Placeholder>\r\n                <Placeholder.Paragraph></Placeholder.Paragraph>\r\n            </Placeholder>\r\n        )\r\n    }\r\n    private listener () {\r\n        return (\r\n            <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\r\n        )\r\n    }\r\n    public render() {\r\n        return this.state.visible ? this.props.children : (\r\n            <div>\r\n                {this.listener()}\r\n                {this.getPlaceHolder()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazycomponent.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./lazycomponent.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rhodonite/lazycomponent.css\n// module id = 734\n// module chunks = 0 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}@keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}.rhodonite-fade-in{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out;animation:rhodonite-fade-in-animate .37s ease-in-out}.rhodonite-fade-out{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out reverse;animation:rhodonite-fade-in-animate .37s ease-in-out reverse}\", \"\", {\"version\":3,\"sources\":[\"D:/DEV/HTML/rslacdn/roselia-encore-react/src/rhodonite/lazycomponent.css\"],\"names\":[],\"mappings\":\"AAAA,6CACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,qCACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,mBACI,6DAA8D,AACtD,oDAAsD,CACjE,AACD,oBACI,qEAAsE,AAC9D,4DAA8D,CACzE\",\"file\":\"lazycomponent.css\",\"sourcesContent\":[\"@-webkit-keyframes rhodonite-fade-in-animate {\\r\\n    from {opacity: 0;}\\r\\n    to {opacity: 1;}\\r\\n}\\r\\n\\r\\n@keyframes rhodonite-fade-in-animate {\\r\\n    from {opacity: 0;}\\r\\n    to {opacity: 1;}\\r\\n}\\r\\n\\r\\n.rhodonite-fade-in {\\r\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out;\\r\\n            animation: rhodonite-fade-in-animate .37s ease-in-out;\\r\\n}\\r\\n.rhodonite-fade-out {\\r\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\r\\n            animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/rhodonite/lazycomponent.css\n// module id = 735\n// module chunks = 0 1","import * as React from 'react'\r\nimport {Image, Placeholder} from 'semantic-ui-react'\r\nimport {LazyComonent} from './lazycomponent'\r\n\r\nexport interface LazyImageProps {\r\n    src: string,\r\n    lazySrc?: string,\r\n    [external: string]: any\r\n}\r\n\r\nexport class LazyImage extends React.Component<LazyImageProps, {loaded: boolean}> {\r\n    public constructor(props: LazyImageProps) {\r\n        super(props)\r\n        this.state = {\r\n            loaded: false\r\n        }\r\n    }\r\n\r\n    public setLoaded = () => {\r\n        this.setState({\r\n            loaded: true\r\n        })\r\n    }\r\n\r\n    private placeHolderImage (withImage: boolean) {\r\n        const {src, lazySrc, ...rest} = this.props\r\n        return (<div>\r\n            {this.props.lazySrc ? (\r\n                <Image className=\"rhodonite-fade-out\" src={lazySrc} {...rest}></Image>\r\n            ) : (\r\n                <Placeholder>\r\n                    <Placeholder.Image></Placeholder.Image>\r\n                </Placeholder>\r\n            )}\r\n            {withImage && <Image src={src} hidden onLoad={this.setLoaded}></Image>}\r\n        </div>)\r\n    }\r\n    \r\n    private imageContent() {\r\n        const {src, lazySrc, ...rest} = this.props\r\n        return (\r\n            <LazyComonent placeHolder={this.placeHolderImage(false)}>\r\n                {this.state.loaded ? <Image className=\"rhodonite-fade-in\" src={src} {...rest}></Image>\r\n                : this.placeHolderImage(true)}\r\n            </LazyComonent>\r\n        )\r\n        // return this.state.visible ? (\r\n        //     this.state.loaded ? <Image src={src} {...rest}></Image>\r\n        //     : this.placeHolderImage(true)\r\n        // ) : (\r\n        //     <div>\r\n        //         <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\r\n        //         {this.placeHolderImage(false)}\r\n        //     </div>\r\n        // )\r\n\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div>\r\n                {this.props.src && this.imageContent()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport function lazyImageOf(lazySrc?: string) {\r\n    return ({src, ...props}: {src: string, [k: string]: any}) => <LazyImage src={src} lazySrc={lazySrc} {...props}></LazyImage>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazyimage.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./encore.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/encore.css\n// module id = 737\n// module chunks = 0","import * as React from 'react'\r\nimport {Grid, Image, Container, Card, Header, Reveal} from 'semantic-ui-react'\r\nimport './encore.css'\r\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig, ExternalTrackList} from '../rhodonite/protocols/encore'\r\nimport {mergeLanguageAttribute, getLanguageAttribute, sameDate, makeCompareOn} from '../rhodonite/protocols/helpers'\r\nimport {Link} from 'react-router-dom'\r\nimport {getPositionByNum} from '../rhodonite/protocols/helpers'\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\nimport {LazyComonent} from '../rhodonite/lazycomponent'\r\n\r\ntype SemanticColumnNum = 1 | 3 | 4\r\n\r\nexport interface EncoreSectionProps {\r\n    title: string\r\n    columns: SemanticColumnNum,\r\n    data: SectionCard[],\r\n    dark?: boolean,\r\n    lazyImageSrc?: string\r\n}\r\n\r\ninterface SectionCard {\r\n    title: string,\r\n    image: string,\r\n    secondaryImage?: string,\r\n    color?: string,\r\n    link?: string,\r\n    meta?: string,\r\n    description?: string\r\n    isDark?: boolean,\r\n    lazyImageSrc?: string,\r\n    isOuterLink?: boolean\r\n    onClick?: () => void\r\n}\r\n\r\nfunction positionWithNumByNum (num: number) {\r\n    return `${num}${getPositionByNum(num)}`\r\n}\r\n\r\nexport const EncoreCard = (sc: SectionCard) => {\r\n    const linkRegex = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/\r\n    const isOuterLink = (typeof sc.isOuterLink === 'undefined') ? (sc.link && linkRegex.test(sc.link)) : sc.isOuterLink\r\n    const linkProps = (sc.link ? {\r\n        as: isOuterLink ? 'a' : Link,\r\n        [isOuterLink ? 'href' : 'to']: sc.link\r\n    } : {})\r\n    const LazyImage = lazyImageOf(sc.lazyImageSrc)\r\n    return (\r\n    <Grid.Column key={sc.title}>\r\n        <div className=\"thumbnail\">\r\n            <Card link {...linkProps} fluid style={{backgroundColor: sc.color}} onClick={sc.onClick}>\r\n                {sc.secondaryImage ? (\r\n                    <Reveal animated='move'>\r\n                        <Reveal.Content visible>\r\n                            {/* <Image src={sc.image} /> */}\r\n                            <LazyImage src={sc.image} />\r\n                        </Reveal.Content>\r\n                        <Reveal.Content hidden>\r\n                            {/* <Image src={sc.secondaryImage} /> */}\r\n                            <LazyImage src={sc.secondaryImage} />\r\n                        </Reveal.Content>\r\n                    </Reveal>\r\n                    ) : <LazyImage src={sc.image}/>\r\n                }\r\n                <Card.Content>\r\n                    <Card.Header className={sc.isDark && \" white-text\" || \"\"}>\r\n                        {sc.title}\r\n                    </Card.Header>\r\n                    {sc.meta && <Card.Meta style={{color: sc.isDark && \"rgba(255, 255, 255, 0.618)\"}}>{sc.meta}</Card.Meta>}\r\n                    {sc.description && <Card.Description className={sc.isDark && \" white-text\" || \"\"}>{sc.description}</Card.Description>}\r\n                </Card.Content>\r\n            </Card>\r\n        </div>\r\n    </Grid.Column>\r\n)}\r\n\r\nexport class EncoreSection extends React.Component<EncoreSectionProps> {\r\n    public render() {\r\n        return (\r\n            <Container className=\"part\">\r\n                <Grid stackable>\r\n                    <Header as=\"h1\">{this.props.title}</Header>\r\n                    <Grid.Row centered columns={2}>\r\n                        <Grid.Column>\r\n                            {this.props.children}\r\n                        </Grid.Column>\r\n                    </Grid.Row>\r\n                    <Grid.Row columns={this.props.columns}>\r\n                        {this.props.data.map(sc => (\r\n                            <LazyComonent key={sc.title}>\r\n                                <EncoreCard {...sc} isDark={this.props.dark} lazyImageSrc={this.props.lazyImageSrc} />\r\n                            </LazyComonent>\r\n                        ))}\r\n                    </Grid.Row>\r\n                </Grid>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport const memberSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const mi = si.members\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    const configs = {\r\n        title: languageGetter({\r\n            cn: '成员',\r\n            en: 'Members',\r\n            jp: 'メンバー'\r\n        }),\r\n        columns: 3 as SemanticColumnNum,\r\n        data: mi.map(m => ({\r\n            title: `${languageGetter(m.name)}`,\r\n            image: getters.memberImageGetter(m),\r\n            secondaryImage: getters.cvImageGetter(m),\r\n            color: m.encoreColor,\r\n            meta: m.role,\r\n            description: `CV:${languageGetter(mergeLanguageAttribute(m.CVName))}`,\r\n            link: `member/${m.name.en.split(' ')[1]}/`\r\n        })),\r\n        dark: true,\r\n        lazyImageSrc: si.siteLogo\r\n    }\r\n    const birthdayMembers = mi.filter(makeCompareOn(x => x.birthday, sameDate()))\r\n    const Plugin = si.plugins.member\r\n\r\n    return (\r\n        <EncoreSection {...configs}>\r\n            {Plugin && <Plugin></Plugin>}\r\n            {birthdayMembers.map(bm => (\r\n                <div className=\"thumbnail\" key={bm.name.en}>\r\n                    <Card link fluid style={{backgroundColor: bm.encoreColor}}>\r\n                        <Image src={getters.memberImageGetter(bm)}/>\r\n                        <Card.Content>\r\n                            <Card.Header className=\"white-text\">\r\n                                {languageGetter(bm.name)}\r\n                            </Card.Header>\r\n                            <Card.Description className=\"white-text\">{languageGetter({\r\n                                cn: '生日快乐',\r\n                                en: 'Happy birthday',\r\n                                jp: 'お誕生日おめでとう'\r\n                            })}, {languageGetter(bm.name)}!</Card.Description>\r\n                        </Card.Content>\r\n                    </Card>\r\n                </div>\r\n            ))}\r\n            \r\n        </EncoreSection>\r\n    )\r\n}\r\n\r\nexport const singleSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const ti = si.singles\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    const Plugin = si.plugins.single\r\n    const sectionProps: EncoreSectionProps = {\r\n        title: languageGetter({\r\n            cn: '单曲',\r\n            en: 'Single',\r\n            jp: 'シングル'\r\n        }),\r\n        columns: 4 as 4,\r\n        data: ti.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: t.displayId || `${t.id}${getPositionByNum(t.id)}`,\r\n            link: `single/${t.displayId || positionWithNumByNum(t.id)}/`\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    }\r\n    return <EncoreSection {...sectionProps}>{Plugin && <LazyComonent><Plugin/></LazyComonent>}</EncoreSection>\r\n}\r\n\r\nexport const albumSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const ti = si.albums!\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    return (new EncoreSection({\r\n        title: languageGetter({\r\n            cn: '专辑',\r\n            en: 'Album',\r\n            jp: 'アルバム'\r\n        }),\r\n        columns: 4,\r\n        data: ti.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} album`,\r\n            link: `album/${t.id}${getPositionByNum(t.id)}/`\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    })).render()\r\n}\r\n\r\nexport const generalSection = (gs: ExternalTrackList, si: SiteConfig, language: SupportedLanguages) => {\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    return <EncoreSection {...{\r\n        title: languageGetter(gs.displayName),\r\n        columns: 4,\r\n        data: gs.trackList.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} ${gs.trackType}`,\r\n            link: `${gs.displayName.en}/` + (t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'}/`)\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    }}/>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/section.tsx","import * as React from 'react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport * as Helpers from '../rhodonite/protocols/helpers'\r\nimport {Container, Header, Segment, Grid, Divider, Label} from 'semantic-ui-react'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport { getLanguageAttribute } from 'src/rhodonite/protocols/helpers'\r\nimport { TitledDocument } from 'src/rhodonite/component';\r\n// import {BannerImage} from './banner'\r\nimport selfish from '../rhodonite/utils/selfish'\r\nimport { NotFound } from './notfound';\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\n\r\nconst notFoundMember: Protocol.MemberInfo = {\r\n    name: {\r\n        cn: '你是谁',\r\n        jp: '誰か',\r\n        en: 'Who are you?'\r\n    },\r\n    CVName: {\r\n        en: '',\r\n        cn: '',\r\n        jp: ''\r\n    },\r\n    role: 'NotFound',\r\n    birthday: '',\r\n    horoscope: '',\r\n    encoreColor: '',\r\n}\r\n\r\ninterface MemberPageLocationParams {\r\n    member: string\r\n}\r\n\r\ninterface MemberPageProps extends RouteComponentProps<MemberPageLocationParams> {\r\n    language: Protocol.SupportedLanguages,\r\n    siteConfig: Protocol.SiteConfig,\r\n    currentMember: Protocol.MemberInfo\r\n}\r\n\r\nexport function iterAttribute(attr: Protocol.MultiLanguageAttribute | Protocol.MultiLanguageAttribute[]) {\r\n    if (attr instanceof Array) return attr\r\n    return [attr]\r\n}\r\n\r\nexport function optionalBoolean (f?: boolean) {\r\n    return typeof f === 'undefined' || f\r\n}\r\n\r\nexport const IndentText = ({indent, children} :{indent?: boolean, children?: any}) => <p style={{textIndent: optionalBoolean(indent) ? '2em' : 'inherit', fontSize: '1.33em'}}>{children}</p>\r\nexport const HiddenText = ({hidden = true, children}: {hidden?: boolean, children?: any}) => <span className={hidden ? \"heimu\" : \"\"}>{children}</span>\r\n\r\nexport class MemberPage extends React.PureComponent<MemberPageProps> {\r\n    private methods = selfish(this)\r\n    public componentWillMount () {\r\n        // tslint:disable-next-line:no-console\r\n        // console.log(this.props)\r\n    }\r\n    public componentDidMount() {\r\n        // tslint:disable-next-line:no-console\r\n        window.scroll(0, 0)\r\n    }\r\n    private getCurrentMember() {\r\n        return this.props.currentMember || this.props.siteConfig.members.filter(x => x.name.en.split(' ')[1].toLowerCase() === this.props.match.params.member.toLowerCase())[0]\r\n    }\r\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\r\n        return getLanguageAttribute(ctx, this.props.language)\r\n    }\r\n    private get member () {\r\n        return this.getCurrentMember() || notFoundMember\r\n    }\r\n    private get memberFound () {\r\n        return !!this.getCurrentMember()\r\n    }\r\n    private get isInBirthday() {\r\n        return Helpers.dummySameDate(new Date, this.member.birthday)\r\n    }\r\n    private memberLayout = () => {\r\n        const member = this.member\r\n        return (\r\n            <div>\r\n                <Header\r\n                as='h1'\r\n                style={{\r\n                    fontSize: '4em',\r\n                    fontWeight: 'normal',\r\n                    marginBottom: 0,\r\n                    marginTop: '3em',\r\n                    color: member.encoreColor\r\n                }}\r\n                >\r\n                    {member.role}.{this.getContextText(member.name)}\r\n                </Header>\r\n                <Header\r\n                as='h2'\r\n                style={{\r\n                    fontSize: '1.7em',\r\n                    fontWeight: 'normal',\r\n                    marginTop: '1.5em',\r\n                    color: member.encoreColor\r\n                }}\r\n                >\r\n                    {this.getContextText(Helpers.mergeLanguageAttribute(member.CVName))}\r\n                </Header>\r\n                {this.isInBirthday && <Label size=\"huge\" icon=\"birthday cake\" content={this.getContextText({\r\n                    cn: '生日快乐',\r\n                    en: 'Happy Birthday',\r\n                    jp: 'お誕生日おめでとう'\r\n                })}/>}\r\n            </div>\r\n        )\r\n    }\r\n    public render() {\r\n        if (!this.memberFound) return <NotFound></NotFound>\r\n        const member = this.member\r\n        const IntroLayout = this.methods.introLayout\r\n        // const getters = this.props.siteConfig.getters\r\n        return (\r\n            <TitledDocument title={this.getContextText(member.name)}>\r\n                <div style={{\r\n                    height: \"61.8vh\"\r\n                }}>\r\n                    <Container text>\r\n                    <div>\r\n                        {this.memberLayout()}\r\n                    </div>\r\n                    \r\n                    </Container>\r\n                </div>\r\n                \r\n                <IntroLayout></IntroLayout>\r\n            </TitledDocument>\r\n            \r\n        )\r\n    }\r\n    private introLayout () {\r\n        const getters = this.props.siteConfig.getters\r\n        const member = this.member\r\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\r\n            <div>\r\n                <Header as='h4' style={{ fontSize: '2em' }}>\r\n                    {this.getContextText(p.header)}\r\n                </Header>\r\n                <IndentText indent={p.indent}>{p.children}</IndentText>\r\n                {/* <IndentText>\r\n                    {p.children}\r\n                </IndentText> */}\r\n                <Divider hidden></Divider>\r\n            </div>\r\n            \r\n        ) : (<div></div>)\r\n        const WikiLink = (wikiName: string, generator: (s: string) => string) => ({wiki, as}: {wiki: string, as?: any}) => (\r\n            React.createElement(as||'p', null, <a href={generator(wiki)}>{wikiName}({wiki})</a>)\r\n        )\r\n        const MoegirlLink = WikiLink('萌娘百科', s => `https://zh.moegirl.org/${s}`)\r\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\r\n        return (\r\n            <Segment style={{ padding: '8em 0em' }} vertical>\r\n                <Grid container stackable verticalAlign='middle'>\r\n                    <Grid.Row>\r\n                    <Grid.Column width={8}>\r\n                        <AttrWithTitle header={{cn: \"生日\", jp:\"誕生日\", en: \"Birthday\"}}>\r\n                            {member.birthday}\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle when={!!member.bloodType} header={{cn: \"血型\", jp:\"血液型\", en: \"Blood Type\"}}>\r\n                            {member.bloodType}\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\r\n                            <ul>\r\n                                <MoegirlLink as=\"li\" wiki={member.name.cn}></MoegirlLink>\r\n                                {iterAttribute(member.CVName).map(mlt => (\r\n                                <MoegirlLink as=\"li\" wiki={mlt.cn} key={mlt.en}></MoegirlLink>\r\n                            ))}\r\n                            </ul>\r\n                            \r\n                            \r\n                        </AttrWithTitle> \r\n                        <AttrWithTitle when={!!member.external} header=\"P.S.\">\r\n                            {member.external && member.external.map(ex => (\r\n                                <AttrWithTitle header={ex.title}>\r\n                                    {(ex.content instanceof Array) ? (\r\n                                        <ul>\r\n                                            {ex.content.map((e, idx) => (\r\n                                                <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\r\n                                            ))}\r\n                                        </ul>\r\n                            ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\r\n                                </AttrWithTitle>\r\n                            ))}\r\n                        </AttrWithTitle>\r\n                    </Grid.Column>\r\n                    <Grid.Column floated='right' width={8}>\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.memberImageGetter(member)} />\r\n                        <Divider hidden />\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.cvImageGetter(member)} />\r\n                    </Grid.Column>\r\n                    </Grid.Row>\r\n                    \r\n                </Grid>\r\n            </Segment>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/member.tsx","import * as React from 'react'\r\nimport './encore.css'\r\n// import {Image} from 'semantic-ui-react'\r\nimport {BannerImageConfig} from '../rhodonite/protocols/encore'\r\n\r\nexport class BannerImage extends React.Component<BannerImageConfig> {\r\n    get gradient () {\r\n        if (typeof this.props.gradient === 'undefined') return \"linear-gradient(45deg, rgba(20, 9, 49, 0.7) 0%, rgba(23, 0, 35, 0.68) 16%, rgba(1, 63, 145, 0.6) 78%, rgba(1, 64, 147, 0.57) 79%, rgba(1, 64, 147, 0.19) 93%, rgba(114, 197, 241, 0) 100%)\"\r\n        return this.props.gradient\r\n    }\r\n    private fillHeight: React.CSSProperties = {\r\n        height: '100vh',\r\n        width: '100%',\r\n    }\r\n    private get backGroundStyle(): React.CSSProperties {\r\n        return {\r\n            ...this.fillHeight,\r\n            backgroundImage: this.gradient ? `${this.gradient}, url('${this.props.background}')` : `url('${this.props.background}')`,\r\n            backgroundSize: 'cover',\r\n            ...(this.props.foreground ? {\r\n                filter: 'blur(25px) saturate(120%)',\r\n                animation: 'blur-clear 1s ease-in-out',\r\n                animationDelay: '1s',\r\n                animationFillMode: 'backwards',\r\n            } : {}),\r\n            \r\n            position: 'absolute',\r\n            zIndex: 1\r\n        }\r\n    }\r\n    private bannerImageStyle: React.CSSProperties = {\r\n        ...this.fillHeight,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'flex-end',\r\n        position: 'absolute',\r\n        zIndex: 2\r\n    }\r\n\r\n    private imageStyle: React.CSSProperties = {\r\n        width: '61.8vw',\r\n        filter: 'contrast(130%)',\r\n        animation: 'blur-clear 1s ease-in-out reverse',\r\n        animationDelay: '2s',\r\n        animationFillMode: 'backwards'\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div>\r\n                <div className=\"hidden-xs banner\" style={{height: '108vh'}}>\r\n                    <div style={this.backGroundStyle}></div>\r\n                    \r\n                    <div style={this.bannerImageStyle}>\r\n                        <div style={{height: 'inherit'}}>{this.props.children}</div>\r\n                        {this.props.foreground &&<img src={this.props.foreground} style={this.imageStyle}></img>}\r\n                    </div>\r\n                    \r\n                </div>\r\n                {/* <div className=\"visible-xs\">\r\n                    <Image src=\"img/logo.png\"></Image>\r\n                </div> */}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/banner.tsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".visible-xs{display:none!important}@media (max-width:767px){.hidden-xs{display:none!important}.visible-xs{display:block!important}}@-webkit-keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}@keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}.part{-webkit-box-shadow:11px 7px 15px rgba(0,0,0,.2);box-shadow:11px 7px 15px rgba(0,0,0,.2);padding:25px 20px 5px;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s}.part,.part:hover{border-radius:15px 15px 15px 15px;background-color:#fff;margin-bottom:25px}.part:hover{-webkit-transition:padding .25s;-o-transition:padding .25s;transition:padding .25s;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s;-webkit-box-shadow:20px 20px 17px 0 rgba(0,0,0,.2);box-shadow:20px 20px 17px 0 rgba(0,0,0,.2)}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143}.thumbnail>img,.thumbnail a>img{margin-right:auto;margin-left:auto}.member{margin-top:-30px}.white-text{color:#fff!important}\", \"\", {\"version\":3,\"sources\":[\"D:/DEV/HTML/rslacdn/roselia-encore-react/src/components/encore.css\"],\"names\":[],\"mappings\":\"AAAA,YACI,sBAAyB,CAC5B,AACD,yBACI,WACE,sBAAyB,CAC1B,AACD,YACI,uBAA0B,CAC7B,CACJ,AAED,8BACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,sBACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,MAGI,gDAAoD,AAC5C,wCAA4C,AACpD,sBAA4B,AAE5B,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,0FAA+F,CAClG,AACD,kBAZI,kCAAmC,AACnC,sBAAqC,AAIrC,kBAAoB,CAqBvB,AAdD,YACI,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,2FAA+F,AAG/F,mDAAyD,AACjD,0CAAiD,CAE5D,AAED,WACI,cAAe,AACf,YAAa,AACb,mBAAoB,AACpB,sBAAwB,CAC3B,AAED,gCAEI,kBAAmB,AACnB,gBAAkB,CACrB,AAED,QACI,gBAAkB,CACrB,AAED,YACI,oBAAuB,CAC1B\",\"file\":\"encore.css\",\"sourcesContent\":[\".visible-xs {\\r\\n    display: none !important;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .hidden-xs {\\r\\n      display: none !important;\\r\\n    }\\r\\n    .visible-xs {\\r\\n        display: block !important;\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes blur-clear {\\r\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\r\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\r\\n}\\r\\n\\r\\n@keyframes blur-clear {\\r\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\r\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\r\\n}\\r\\n\\r\\n.part {\\r\\n    border-radius: 15px 15px 15px 15px;\\r\\n    background-color: rgb(255, 255, 255);\\r\\n    -webkit-box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\r\\n            box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\r\\n    padding: 25px 20px 5px 20px;\\r\\n    margin-bottom: 25px;\\r\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n}\\r\\n.part:hover {\\r\\n    -webkit-transition: padding .25s;\\r\\n    -o-transition: padding .25s;\\r\\n    transition: padding .25s;\\r\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    border-radius: 15px 15px 15px 15px;\\r\\n    background-color: rgb(255, 255, 255);\\r\\n    -webkit-box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\r\\n            box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\r\\n    margin-bottom: 25px;\\r\\n}\\r\\n\\r\\n.thumbnail {\\r\\n    display: block;\\r\\n    padding: 4px;\\r\\n    margin-bottom: 20px;\\r\\n    line-height: 1.42857143;\\r\\n}\\r\\n\\r\\n.thumbnail > img,\\r\\n.thumbnail a > img {\\r\\n    margin-right: auto;\\r\\n    margin-left: auto;\\r\\n}\\r\\n\\r\\n.member {\\r\\n    margin-top: -30px;\\r\\n}\\r\\n\\r\\n.white-text {\\r\\n    color: #fff !important;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/encore.css\n// module id = 741\n// module chunks = 0","import * as React from 'react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport * as Helpers from '../rhodonite/protocols/helpers'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport {HiddenText, IndentText, optionalBoolean} from './member'\r\nimport {Header, Container, Segment, Divider, Grid, Label} from 'semantic-ui-react'\r\nimport { NotFound } from './notfound';\r\nimport { TitledDocument } from 'src/rhodonite/component';\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\n// import {cached} from '../rhodonite/utils/property'\r\n\r\ninterface TrackLocationProps {\r\n    trackType: Protocol.TrackType\r\n    trackId: string\r\n}\r\ninterface TrackPageProps extends RouteComponentProps<TrackLocationProps> {\r\n    language: Protocol.SupportedLanguages\r\n    siteConfig: Protocol.SiteConfig\r\n}\r\n\r\nconst {getPositionByNum} = Helpers\r\n\r\nclass TrackPage extends React.Component<TrackPageProps> {\r\n    private cachedTrack: Protocol.TrackInfo | undefined = undefined\r\n    protected getCurrentTrack (): Protocol.TrackInfo | undefined {\r\n        return undefined // Should be overloaded\r\n    }\r\n    public componentDidMount () {\r\n        window.scrollTo(0, 0)\r\n    }\r\n\r\n    // @cached\r\n    protected findIn (ls: Protocol.TrackInfo[]) {\r\n        const regex = /(\\d+)(\\w+)/\r\n        const matchRes = regex.exec(this.props.match.params.trackId)\r\n        if (matchRes) {\r\n            const [_, idx, pos] = matchRes\r\n            const intIdx = parseInt(idx, 10)\r\n            if (getPositionByNum(intIdx) === pos.toLowerCase()) return ls.find(x => x.id === intIdx)\r\n            return void 0\r\n        }\r\n        return ls.find(x => x.displayId === this.props.match.params.trackId)\r\n    }\r\n\r\n    private get track () {\r\n        if (this.cachedTrack) return this.cachedTrack\r\n        return this.cachedTrack = this.getCurrentTrack()!\r\n    }\r\n    private hasValidTrack () {\r\n        return !!this.track\r\n    }\r\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\r\n        return Helpers.getLanguageAttribute(ctx, this.props.language)\r\n    }\r\n\r\n    private get calendarIconClass() {\r\n        try{\r\n            const date = new Date(this.track.releaseDate)\r\n            const today = new Date\r\n            if (Helpers.sameDate(today, true)(date)) return 'calendar alternate outline'\r\n            if (date > today) return 'calendar plus outline'\r\n            return 'calendar check outline'\r\n        } catch {\r\n            return 'calendar outline'\r\n        }\r\n        \r\n    }\r\n\r\n    private get localReleaseDate () {\r\n        try {\r\n            return (new Date(this.track.releaseDate)).toLocaleDateString()\r\n        } catch {\r\n            return this.track.releaseDate\r\n        }\r\n    }\r\n    \r\n    private introLayout () {\r\n        const track = this.track\r\n        return (\r\n            <div>\r\n                <Header\r\n                as='h1'\r\n                style={{\r\n                    fontSize: '4em',\r\n                    fontWeight: 'normal',\r\n                    marginBottom: 0,\r\n                    marginTop: '3em'\r\n                }}\r\n                >\r\n                    {track.title}\r\n                </Header>\r\n                <Header\r\n                as='h2'\r\n                style={{\r\n                    fontSize: '1.7em',\r\n                    fontWeight: 'normal',\r\n                    marginTop: '1.5em'\r\n                }}\r\n                >\r\n                    {track.displayId ? track.displayId : `${track.id}${getPositionByNum(track.id)} ${Helpers.capatialize(track.type||'')}`}\r\n                </Header>\r\n                <Label size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}></Label>\r\n            </div>\r\n        )\r\n    }\r\n    private infoLayout () {\r\n        const getters = this.props.siteConfig.getters\r\n        const track = this.track\r\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\r\n            <div>\r\n                <Header as='h4' style={{ fontSize: '2em' }}>\r\n                    {this.getContextText(p.header)}\r\n                </Header>\r\n                <IndentText indent={p.indent}>{p.children}</IndentText>\r\n                {/* <IndentText>\r\n                    {p.children}\r\n                </IndentText> */}\r\n                <Divider hidden></Divider>\r\n            </div>\r\n            \r\n        ) : (<div></div>)\r\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\r\n        \r\n        return (\r\n            <Segment style={{ padding: '8em 0em' }} vertical>\r\n                <Grid container stackable verticalAlign='middle'>\r\n                    <Grid.Row>\r\n                    <Grid.Column width={8}>\r\n                        <AttrWithTitle indent={false} header={{cn: \"音轨\", jp:\"収録内容\", en:\"Track\"}}>\r\n                            <ol>\r\n                                {track.track.map((s, i) => (\r\n                                    <li key={i}>{s}</li>\r\n                                ))}\r\n                            </ol>\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle when={!!track.links} indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\r\n                            <ul>\r\n                                {track.links && track.links.map((l, i) => (\r\n                                    <li key={i}><a href={l.link}>{l.description}</a></li>\r\n                                ))}\r\n                            </ul>\r\n                            \r\n                            \r\n                        </AttrWithTitle> \r\n                        {track.external && track.external.map(ex => (\r\n                            <AttrWithTitle key={ex.title} header={ex.title}>\r\n                                {(ex.content instanceof Array) ? (\r\n                                    <ul>\r\n                                        {ex.content.map((e, idx) => (\r\n                                            <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\r\n                                        ))}\r\n                                    </ul>\r\n                        ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\r\n                            </AttrWithTitle>\r\n                        ))}\r\n                    </Grid.Column>\r\n                    <Grid.Column floated='right' width={8}>\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.trackImageGetter(track)} />\r\n                        <Divider hidden />\r\n                        {track.hasLimitedEdition && (\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.limitedTrackImageGetter(track)} />)}\r\n                    </Grid.Column>\r\n                    </Grid.Row>\r\n                    \r\n                </Grid>\r\n            </Segment>\r\n        )\r\n    }\r\n    public render() {\r\n        const track = this.track\r\n        if (!this.hasValidTrack()) {\r\n            return <NotFound></NotFound>\r\n        }\r\n        return (\r\n            <TitledDocument title={track.title}>\r\n                <div style={{\r\n                    height: \"61.8vh\"\r\n                }}>\r\n                    <Container text>\r\n                    <div>\r\n                        {this.introLayout()}\r\n                    </div>\r\n                    \r\n                    </Container>\r\n                </div>\r\n                {this.infoLayout()}\r\n                {/* <IntroLayout></IntroLayout> */}\r\n            </TitledDocument>\r\n        )\r\n    }\r\n}\r\n\r\nexport class SingleTrackPage extends TrackPage {\r\n    protected getCurrentTrack () {\r\n        return this.findIn(this.props.siteConfig.singles)\r\n    }\r\n}\r\n\r\nexport class AlbumTrackPage extends TrackPage {\r\n    protected getCurrentTrack() {\r\n        return this.findIn(this.props.siteConfig.albums!)\r\n    }\r\n}\r\n\r\nexport function customTrackPage(tp: Protocol.ExternalTrackList) {\r\n    return class extends TrackPage {\r\n        protected getCurrentTrack () {\r\n            return this.findIn(tp.trackList)\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/track.tsx","import * as React from 'react'\r\nimport {Modal, Grid, Header, Divider} from 'semantic-ui-react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport {/*RouteComponentProps,*/ Route} from 'react-router'\r\nimport {EncoreSection, EncoreSectionProps, EncoreCard} from './section'\r\n\r\nexport interface RouterParams {\r\n    recommandId: string\r\n}\r\n\r\ninterface VideoSectionProps {\r\n    siteConfig: Protocol.SiteConfig\r\n    videos: Protocol.RecommandVideoAdapter[]\r\n    indexPage: string\r\n}\r\n\r\nexport interface VideoModalProps /*extends RouteComponentProps<RouterParams>*/ {\r\n    visible: boolean\r\n    videoLib: Protocol.RecommandVideoAdapter[]\r\n    forceVideo?: Protocol.RecommandVideoAdapter\r\n    onClose?: () => void\r\n}\r\n\r\ninterface VideoSectionState {\r\n    isVisible: boolean\r\n    currentVideo?: Protocol.RecommandVideoAdapter\r\n}\r\n\r\nclass VideoModal extends React.Component<VideoModalProps> {\r\n    \r\n    private getVideoAdapter(): Protocol.RecommandVideoAdapter | undefined {\r\n        const props = this.props\r\n        if(props.forceVideo) return props.forceVideo\r\n        return undefined\r\n        // const idx = parseInt(props.match.params.recommandId, 10)\r\n        // if (isNaN(idx)) return undefined\r\n        // return props.videoLib[idx]\r\n    }\r\n    private get videoAdapter() {\r\n        return this.getVideoAdapter()!\r\n    }\r\n\r\n    private renderModal() {\r\n        const adapter = this.videoAdapter\r\n        const video = adapter && adapter.videos\r\n        if (!video) return null\r\n        const videos = video.videos\r\n        return (\r\n            <Modal dimmer=\"blurring\" open={this.props.visible} onClose={this.props.onClose}>\r\n                <Modal.Header>{video.name}</Modal.Header>\r\n                <Modal.Content>\r\n                    {video.authors.length === 1 && \r\n                    (<div>\r\n                        <Modal.Description>\r\n                            <Header>{video.authors[0]}</Header>\r\n                        </Modal.Description>\r\n                        <Divider/>\r\n                    </div>)\r\n                    }\r\n                    <Grid stackable>\r\n                        <Grid.Row columns={4}>\r\n                            {videos.map(v => (\r\n                                <EncoreCard key={v.title} {...{\r\n                                    title: v.title,\r\n                                    image: v.coverImage,\r\n                                    link: adapter.getLink(v.aid),\r\n                                    meta: video.authors.length === 1 ? undefined : v.author\r\n                                }}></EncoreCard>\r\n                            ))}\r\n                        </Grid.Row>\r\n                    </Grid>\r\n                    \r\n                </Modal.Content>\r\n            </Modal>\r\n        )\r\n    }\r\n    public render() {\r\n        return this.renderModal()\r\n    }\r\n}\r\n\r\nexport class VideoSection extends React.Component<VideoSectionProps, VideoSectionState> {\r\n    public constructor(props: VideoSectionProps) {\r\n        super(props)\r\n        this.state = {\r\n            isVisible: false,\r\n            currentVideo: undefined\r\n        }\r\n    }\r\n\r\n    private section = () => {\r\n        const sectionProps: EncoreSectionProps = {\r\n            title: '更多资源……',\r\n            columns: 4,\r\n            data: (this.props.videos).map(v => {\r\n                const video = v.videos!\r\n                return ({\r\n                    title: video.name,\r\n                    image: video.videos![0].coverImage,\r\n                    meta: video.authors.length === 1 ? video.authors[0] : undefined,\r\n                    link: video.videos.length === 1 ? video.getLink(video.videos[0].aid) : undefined,\r\n                    onClick: () => {\r\n                        this.setState({\r\n                            currentVideo: v,\r\n                            isVisible: true\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        return <EncoreSection {...sectionProps}></EncoreSection>\r\n    }\r\n\r\n    public closeModal = () => this.setState({\r\n        isVisible: false\r\n    })\r\n\r\n    // public renderModal = (props: RouteComponentProps<RouterParams>) => (\r\n    //     <VideoModal videoLib={this.props.videos} visible={true} {...props}></VideoModal>\r\n    // )\r\n\r\n    public render() {\r\n        return (<div>\r\n            <Route path={this.props.indexPage} render={this.section}></Route>\r\n            <VideoModal videoLib={this.props.videos} visible={this.state.isVisible} forceVideo={this.state.currentVideo} onClose={this.closeModal}></VideoModal>\r\n            {/* <Route path={this.props.indexPage + '/recommand/:recommandId/'} render={this.renderModal}></Route> */}\r\n        </div>)\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/video.tsx"],"sourceRoot":""}