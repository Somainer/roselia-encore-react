{"version":3,"sources":["encoreInfo/roseliaLyric.tsx"],"names":["RoseliaLyrics","_super","props","_this","call","this","getLyric","__WEBPACK_IMPORTED_MODULE_0_tslib__","setState","loading","fetch","_b","sent","json","data","lyric","state","album","at","id","name","cnLyric","jpLyric","type","link","picUrl","prototype","componentDidMount","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_4__rhodonite_protocols_helpers__","render","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","Dimmable","as","blurring","dimmed","Group","Image","size","src","Content","verticalAlign","Header","Description","Extra","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","to","currentLink","content","icon","disabled","onClick"],"mappings":"qMAmBAA,EAAA,SAAAC,GACI,SAAAD,EAAaE,GAAb,IAAAC,EACIF,EAAAG,KAAAC,KAAMH,IAAMG,YAkBRF,EAAAG,SAAW,kBAAAC,EAAA,EAAAJ,OAAA,6EACfE,KAAKG,UACDC,SAAS,qBAGC,gCAAMC,MAAM,6DACT,SADHC,EAAAC,OACWC,sBAAfC,EAAOH,EAAAC,OACbP,KAAKG,UACDC,SAAS,EACTM,MAAOD,iCAGXT,KAAKG,UACDC,SAAS,iCA9BjBN,EAAKa,OACDD,OACIE,MAAO,GACPC,GAAI,GACJC,GAAI,EACJJ,MAAO,GACPK,KAAM,GACNC,QAAS,GACTC,QAAS,GACTC,KAAM,QACNC,KAAM,GACNC,OAAQ,IAEZhB,SAAS,KAwDrB,OAxEmCF,EAAA,EAAAP,EAAAC,GAqCxBD,EAAA0B,UAAAC,kBAAP,WACItB,KAAKC,YAGTsB,OAAAC,eAAY7B,EAAA0B,UAAA,mBAAZ,WACI,IAAMX,EAAQV,KAAKW,MAAMD,MACzB,OAAUA,EAAMQ,KAAI,IAAIR,EAAMI,GAAKS,OAAAE,EAAA,EAAAF,CAAiBb,EAAMI,qCAGvDnB,EAAA0B,UAAAK,OAAP,WACI,IAAMhB,EAAQV,KAAKW,MAAMD,MACzB,OACIiB,EAAA,cAACC,EAAA,EAAOC,UAASC,GAAIF,EAAA,EAASG,UAAQ,EAACC,OAAQhC,KAAKW,MAAMP,SACtDuB,EAAA,cAACC,EAAA,EAAKK,MAAK,KACPN,EAAA,cAACC,EAAA,EAAI,KACDD,EAAA,cAACC,EAAA,EAAKM,OAAMC,KAAK,QAAQC,IAAK1B,EAAMU,SACpCO,EAAA,cAACC,EAAA,EAAKS,SAAQC,cAAc,UACxBX,EAAA,cAACC,EAAA,EAAKW,OAAM,KACRZ,EAAA,uBAAGA,EAAA,0BAAOjB,EAAMO,UAChBU,EAAA,uBAAGA,EAAA,0BAAOjB,EAAMM,WAEpBW,EAAA,cAACC,EAAA,EAAKY,YAAW,KAAE9B,EAAMK,MACzBY,EAAA,cAACC,EAAA,EAAKa,MAAK,KACPd,EAAA,cAACC,EAAA,GAAME,GAAIY,EAAA,EAAMC,GAAI3C,KAAK4C,YAAaC,QAASnC,EAAME,QACtDe,EAAA,cAACC,EAAA,GAAMkB,KAAK,OAAOD,QAASnC,EAAMG,MAEtCc,EAAA,cAACC,EAAA,EAAKa,MAAK,KACPd,EAAA,cAACC,EAAA,GAAOmB,SAAU/C,KAAKW,MAAMP,QAAS+B,KAAK,QAAQW,KAAK,UAAUE,QAAShD,KAAKC,iBAQhHN,EAxEA,CAAmCgC,EAAA","file":"static/js/1.7b3c49b2.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport {TrackType} from '../rhodonite/protocols/encore'\r\nimport {Item, Button, Segment, Dimmer, Label} from 'semantic-ui-react'\r\nimport {Link} from 'react-router-dom'\r\nimport {getPositionByNum} from '../rhodonite/protocols/helpers'\r\n\r\ninterface RandomLyric {\r\n    album: string\r\n    at: string\r\n    id: number\r\n    cnLyric: string\r\n    jpLyric: string\r\n    lyric: string\r\n    name: string\r\n    type: TrackType,\r\n    link: string\r\n    picUrl: string\r\n}\r\n\r\nexport class RoseliaLyrics extends React.Component<{}, {lyric: RandomLyric, loading: boolean}> {\r\n    constructor (props: object) {\r\n        super(props)\r\n        this.state = {\r\n            lyric: {\r\n                album: '', \r\n                at: '', \r\n                id: 1, \r\n                lyric: '', \r\n                name: '', \r\n                cnLyric: '',\r\n                jpLyric: '',\r\n                type: 'album',\r\n                link: '',\r\n                picUrl: ''\r\n            },\r\n            loading: false\r\n        }\r\n    }\r\n\r\n    private getLyric = async () => {\r\n        this.setState({\r\n            loading: true\r\n        })\r\n        try{\r\n            const j = await fetch('https://roselia.moe/blog/api/roselia/lyric/random');\r\n            const data = await j.json();\r\n            this.setState({\r\n                loading: false,\r\n                lyric: data\r\n            });\r\n        } catch {\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n    }\r\n    public componentDidMount () {\r\n        this.getLyric()\r\n    }\r\n\r\n    private get currentLink () {\r\n        const lyric = this.state.lyric\r\n        return `${lyric.type}/${lyric.id}${getPositionByNum(lyric.id)}`\r\n    }\r\n\r\n    public render() {\r\n        const lyric = this.state.lyric\r\n        return (\r\n            <Dimmer.Dimmable as={Segment} blurring dimmed={this.state.loading}>\r\n                <Item.Group>\r\n                    <Item>\r\n                        <Item.Image size=\"small\" src={lyric.picUrl} />\r\n                        <Item.Content verticalAlign=\"middle\">\r\n                            <Item.Header>\r\n                                <p><span>{lyric.jpLyric}</span></p>\r\n                                <p><span>{lyric.cnLyric}</span></p>\r\n                            </Item.Header>\r\n                            <Item.Description>{lyric.name}</Item.Description>\r\n                            <Item.Extra>\r\n                                <Label as={Link} to={this.currentLink} content={lyric.album} />\r\n                                <Label icon='time' content={lyric.at}/>\r\n                            </Item.Extra>\r\n                            <Item.Extra>\r\n                                <Button disabled={this.state.loading} size=\"small\" icon=\"refresh\" onClick={this.getLyric}></Button>\r\n                            </Item.Extra>\r\n                        </Item.Content>\r\n                    </Item>\r\n                </Item.Group>\r\n            </Dimmer.Dimmable>\r\n        )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/encoreInfo/roseliaLyric.tsx"],"sourceRoot":""}