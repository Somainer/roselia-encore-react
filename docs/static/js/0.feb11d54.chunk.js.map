{"version":3,"sources":["components/index.tsx","rhodonite/lazycomponent.tsx","webpack:///./src/rhodonite/lazycomponent.css?c96c","rhodonite/lazycomponent.css","components/section.tsx","rhodonite/lazyimage.tsx","webpack:///./src/components/encore.css?4bfb","components/member.tsx","components/banner.tsx","components/encore.css","components/track.tsx","components/video.tsx","components/bangumi.tsx"],"names":["Index","_super","__WEBPACK_IMPORTED_MODULE_0_tslib__","Object","defineProperty","prototype","siteConfig","this","props","language","renderComponent","RenderComponent","eternal","_this","__WEBPACK_IMPORTED_MODULE_1_react__","strictProps","index","site","className","__WEBPACK_IMPORTED_MODULE_2__components_banner__","bannerImage","style","textAlign","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","centered","src","siteLogo","logoSpin","configName","Group","__WEBPACK_IMPORTED_MODULE_5_react_router_dom__","to","positive","Or","__WEBPACK_IMPORTED_MODULE_13__rhodonite_lazycomponent__","__WEBPACK_IMPORTED_MODULE_3__components_section__","albums","externalTrackLists","map","et","bangumiList","__WEBPACK_IMPORTED_MODULE_12__bangumi__","videos","__WEBPACK_IMPORTED_MODULE_11__video__","indexPage","match","path","render","StatedRoute","_a","component","rest","__WEBPACK_IMPORTED_MODULE_8__rhodonite_component__","AsyncMemberPage","__WEBPACK_IMPORTED_MODULE_7__rhodonite_asynccomponent__","Promise","resolve","then","__webpack_require__","bind","p","MemberPage","parentPath","__WEBPACK_IMPORTED_MODULE_6_react_router__","exact","__WEBPACK_IMPORTED_MODULE_10__track__","etl","displayName","en","__WEBPACK_IMPORTED_MODULE_9__notfound__","LazyComonent","call","setVisible","onVisible","setState","visible","state","shouldComponentUpdate","getPlaceHolder","placeHolder","Function","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","Paragraph","listener","once","onTopVisible","onBottomVisible","children","content","module","i","options","hmr","transform","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","EncoreCard","sc","isOuterLink","link","test","linkProps","as","target","undefined","LazyImage","__WEBPACK_IMPORTED_MODULE_6__rhodonite_lazyimage__","lazyImageSrc","Column","key","title","fluid","backgroundColor","color","onClick","secondaryImage","animated","Content","image","hidden","Header","isDark","meta","Meta","description","Description","EncoreSection","stackable","Row","columns","data","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazycomponent__","dark","memberSection","si","mi","members","getters","languageGetter","ml","__WEBPACK_IMPORTED_MODULE_4__rhodonite_protocols_helpers__","configs","cn","jp","m","name","memberImageGetter","cvImageGetter","encoreColor","role","CVName","split","birthdayMembers","filter","x","birthday","Plugin","plugins","member","bm","singleSection","ti","singles","single","sectionProps","t","trackImageGetter","hasLimitedEdition","limitedTrackImageGetter","displayId","id","num","positionWithNumByNum","albumSection","generalSection","gs","trackList","trackType","lazySrc","setLoaded","loaded","placeHolderImage","withImage","Image","onLoad","imageContent","__WEBPACK_IMPORTED_MODULE_3__lazycomponent__","notFoundMember","horoscope","iterAttribute","attr","Array","optionalBoolean","f","IndentText","indent","textIndent","fontSize","HiddenText","_b","apply","arguments","methods","__WEBPACK_IMPORTED_MODULE_6__rhodonite_utils_selfish__","memberLayout","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","fontWeight","marginBottom","marginTop","getContextText","__WEBPACK_IMPORTED_MODULE_2__rhodonite_protocols_helpers__","isInBirthday","size","icon","componentWillMount","componentDidMount","window","scroll","getCurrentMember","currentMember","toLowerCase","params","ctx","__WEBPACK_IMPORTED_MODULE_4_src_rhodonite_protocols_helpers__","Date","memberFound","__WEBPACK_IMPORTED_MODULE_7__notfound__","IntroLayout","introLayout","__WEBPACK_IMPORTED_MODULE_5_src_rhodonite_component__","height","text","AttrWithTitle","when","header","MoegirlLink","wikiName","generator","wiki","href","WikiLink","s","__WEBPACK_IMPORTED_MODULE_8__rhodonite_lazyimage__","padding","vertical","container","verticalAlign","width","bloodType","mlt","external","ex","e","idx","floated","bordered","rounded","BannerImage","fillHeight","bannerImageStyle","display","justifyContent","alignItems","position","zIndex","imageStyle","animation","animationDelay","animationFillMode","gradient","backgroundImage","background","backgroundSize","foreground","backGroundStyle","tp","class_1","getCurrentTrack","findIn","TrackPage","getPositionByNum","cachedTrack","scrollTo","ls","matchRes","exec","trackId","pos","intIdx_1","parseInt","find","hasValidTrack","track","date","releaseDate","today","toLocaleDateString","type","calendarIconClass","localReleaseDate","infoLayout","__WEBPACK_IMPORTED_MODULE_3__member__","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazyimage__","links","l","__WEBPACK_IMPORTED_MODULE_6_src_rhodonite_component__","__WEBPACK_IMPORTED_MODULE_5__notfound__","SingleTrackPage","AlbumTrackPage","VideoModal","getVideoAdapter","forceVideo","renderModal","adapter","videoAdapter","video","dimmer","open","onClose","authors","length","v","__WEBPACK_IMPORTED_MODULE_4__section__","coverImage","getLink","aid","author","VideoSection","section","currentVideo","isVisible","closeModal","__WEBPACK_IMPORTED_MODULE_3_react_router__","videoLib","bangumiSection","__WEBPACK_IMPORTED_MODULE_3__rhodonite_protocols_helpers__","__WEBPACK_IMPORTED_MODULE_2__section__"],"mappings":"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","file":"static/js/0.feb11d54.chunk.js","sourcesContent":["import * as React from 'react'\r\n\r\n// import starlight from '../encoreInfo/starlight'\r\n// import roselia from '../encoreInfo/roselia'\r\n\r\nimport {BannerImage} from '../components/banner'\r\nimport {memberSection, singleSection, albumSection, generalSection} from '../components/section'\r\nimport { SiteConfig, SupportedLanguages } from 'src/rhodonite/protocols/encore';\r\nimport { Image, Button } from 'semantic-ui-react'\r\nimport {Link} from 'react-router-dom'\r\nimport {Route, Switch} from 'react-router'\r\nimport {asyncComponent} from '../rhodonite/asynccomponent'\r\nimport {ScrollToTopRouter} from '../rhodonite/component'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport { NotFound } from './notfound';\r\nimport { SingleTrackPage, AlbumTrackPage, customTrackPage } from './track'\r\nimport {VideoSection} from './video'\r\nimport {bangumiSection} from './bangumi'\r\nimport {LazyComonent} from '../rhodonite/lazycomponent'\r\n\r\ninterface IndexProps extends RouteComponentProps<{}> {\r\n    siteConfig: SiteConfig\r\n    language: SupportedLanguages\r\n}\r\n\r\nexport class Index extends React.Component<IndexProps, {}> {\r\n\r\n    /*private setEncore (obj: SiteConfig) {\r\n        return () => this.setState({\r\n            siteConfig: obj\r\n        })\r\n    }*/\r\n    private get strictProps () {\r\n        return {\r\n            siteConfig: this.props.siteConfig,\r\n            language: this.props.language\r\n        }\r\n    }\r\n    private renderComponent(RenderComponent: React.ComponentType<any>, eternal: any) {\r\n        return (props: object) => {\r\n            return (<RenderComponent {...props} {...this.strictProps} {...eternal}></RenderComponent>)\r\n        }\r\n    }\r\n\r\n    private index() {\r\n        const site = this.props.siteConfig\r\n        return (\r\n            <div className=\"App\">\r\n                <BannerImage {...site.bannerImage}></BannerImage>\r\n                <header className=\"App-header\" style={{textAlign: 'center'}}>\r\n                    <Image centered src={site.siteLogo} className={site.logoSpin ? \"App-logo\" : \"\"} />\r\n                    {/* <img src={logo} className=\"App-logo\"></img> */}\r\n                    <h1 className=\"App-title\">Roselia Encore</h1>\r\n                    <p>Current config: {site.configName}</p>\r\n                    <p className=\"App-intro\">\r\n                    <p>Made with love by Somainer</p>\r\n                    {/* To get started, edit <code>src/App.tsx</code> and save to reload. */}\r\n                    </p>\r\n                    <p>为了演示可扩展性，目前这里有两个预制配置，阁下（DD）想要看哪一个？</p>\r\n                    <Button.Group>\r\n                    <Link to=\"/\"><Button positive={site.configName === 'roselia'}>Roselia</Button></Link>\r\n                    <Button.Or />\r\n                    <Link to=\"/starlight/\"><Button positive={site.configName === 'starlight'}>Revue Starlight</Button></Link>\r\n                    </Button.Group>\r\n                </header>\r\n                <LazyComonent>\r\n                    {memberSection(site, this.props.language)}\r\n                </LazyComonent>\r\n                <LazyComonent>\r\n                    {singleSection(site, this.props.language)}\r\n                    {site.albums && albumSection(site, this.props.language)}\r\n                    {site.externalTrackLists && site.externalTrackLists.map(et => generalSection(et, site, this.props.language))}\r\n                </LazyComonent>\r\n                <LazyComonent>\r\n                    {site.bangumiList && bangumiSection(site, this.props.language)}\r\n                    {site.videos ? <VideoSection siteConfig={site} videos={site.videos} indexPage={this.props.match.path}></VideoSection> : null}\r\n                </LazyComonent>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    public render () {\r\n        const StatedRoute = ({component, ...rest}: {component: React.ComponentType, [att: string]: any}) => (\r\n            <ScrollToTopRouter {...rest} render={this.renderComponent(component, rest.eternal)}></ScrollToTopRouter>\r\n          )\r\n        const AsyncMemberPage = asyncComponent(() => import('../components/member').then(p => p.MemberPage))\r\n        const parentPath = this.props.match.path\r\n        return (<div>\r\n            <Switch>\r\n                <Route exact path={parentPath}>{this.index()}</Route>\r\n                {/* <Route path=\"member/:member\"></Route> */}\r\n                <StatedRoute path={parentPath + \"member/:member/\"} component={AsyncMemberPage}></StatedRoute>\r\n                <StatedRoute path={parentPath + \"single/:trackId/\"} component={SingleTrackPage}></StatedRoute>\r\n                {this.props.siteConfig.albums && (\r\n                    <StatedRoute path={parentPath + \"album/:trackId/\"} component={AlbumTrackPage}></StatedRoute>\r\n                )}\r\n                {this.props.siteConfig.externalTrackLists && this.props.siteConfig.externalTrackLists.map(etl => (\r\n                    <StatedRoute path={parentPath + `${etl.displayName.en}/:trackId/`} component={customTrackPage(etl)}></StatedRoute>\r\n                ))}\r\n                <Route component={NotFound}></Route>\r\n            </Switch>\r\n            \r\n        </div>)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.tsx","import * as React from 'react'\r\nimport {Placeholder, Visibility} from 'semantic-ui-react'\r\nimport './lazycomponent.css'\r\n\r\n\r\ninterface LazyComonentState {\r\n    visible: boolean\r\n}\r\n\r\n\r\ninterface LazyComonentProps {\r\n    placeHolder?: (() => JSX.Element | React.ReactNode) | JSX.Element | React.ReactNode\r\n    onVisible?: () => void\r\n    [ext: string]: any\r\n}\r\n\r\n\r\nexport class LazyComonent extends React.Component<LazyComonentProps, LazyComonentState> {\r\n    public constructor(props: LazyComonentProps) {\r\n        super(props)\r\n        this.state = {\r\n            visible: false\r\n        }\r\n    }\r\n    private setVisible = () => {\r\n        if(this.props.onVisible) this.props.onVisible()\r\n        this.setState({\r\n            visible: true\r\n        })\r\n    }\r\n    public shouldComponentUpdate () {\r\n        return this.state.visible\r\n    }\r\n    private getPlaceHolder () {\r\n        const {placeHolder} = this.props\r\n        if (placeHolder) {\r\n            if(placeHolder instanceof Function) {\r\n                return placeHolder()\r\n            }\r\n            return placeHolder\r\n        }\r\n        return (\r\n            <Placeholder>\r\n                <Placeholder.Paragraph></Placeholder.Paragraph>\r\n            </Placeholder>\r\n        )\r\n    }\r\n    private listener () {\r\n        return (\r\n            <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\r\n        )\r\n    }\r\n    public render() {\r\n        return this.state.visible ? this.props.children : (\r\n            <div>\r\n                {this.listener()}\r\n                {this.getPlaceHolder()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazycomponent.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./lazycomponent.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rhodonite/lazycomponent.css\n// module id = 734\n// module chunks = 0 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}@keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}.rhodonite-fade-in{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out;animation:rhodonite-fade-in-animate .37s ease-in-out}.rhodonite-fade-out{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out reverse;animation:rhodonite-fade-in-animate .37s ease-in-out reverse}\", \"\", {\"version\":3,\"sources\":[\"D:/DEV/HTML/rslacdn/roselia-encore-react/src/rhodonite/lazycomponent.css\"],\"names\":[],\"mappings\":\"AAAA,6CACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,qCACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,mBACI,6DAA8D,AACtD,oDAAsD,CACjE,AACD,oBACI,qEAAsE,AAC9D,4DAA8D,CACzE\",\"file\":\"lazycomponent.css\",\"sourcesContent\":[\"@-webkit-keyframes rhodonite-fade-in-animate {\\r\\n    from {opacity: 0;}\\r\\n    to {opacity: 1;}\\r\\n}\\r\\n\\r\\n@keyframes rhodonite-fade-in-animate {\\r\\n    from {opacity: 0;}\\r\\n    to {opacity: 1;}\\r\\n}\\r\\n\\r\\n.rhodonite-fade-in {\\r\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out;\\r\\n            animation: rhodonite-fade-in-animate .37s ease-in-out;\\r\\n}\\r\\n.rhodonite-fade-out {\\r\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\r\\n            animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/rhodonite/lazycomponent.css\n// module id = 735\n// module chunks = 0 1","import * as React from 'react'\r\nimport {Grid, Image, Container, Card, Header, Reveal} from 'semantic-ui-react'\r\nimport './encore.css'\r\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig, ExternalTrackList} from '../rhodonite/protocols/encore'\r\nimport {mergeLanguageAttribute, getLanguageAttribute, sameDate, makeCompareOn} from '../rhodonite/protocols/helpers'\r\nimport {Link} from 'react-router-dom'\r\nimport {getPositionByNum} from '../rhodonite/protocols/helpers'\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\nimport {LazyComonent} from '../rhodonite/lazycomponent'\r\n\r\ntype SemanticColumnNum = 1 | 3 | 4\r\n\r\nexport interface EncoreSectionProps {\r\n    title: string\r\n    columns: SemanticColumnNum,\r\n    data: SectionCard[],\r\n    dark?: boolean,\r\n    lazyImageSrc?: string\r\n}\r\n\r\ninterface SectionCard {\r\n    title: string,\r\n    image: string,\r\n    secondaryImage?: string,\r\n    color?: string,\r\n    link?: string,\r\n    meta?: string,\r\n    description?: string\r\n    isDark?: boolean,\r\n    lazyImageSrc?: string,\r\n    isOuterLink?: boolean\r\n    onClick?: () => void\r\n}\r\n\r\nfunction positionWithNumByNum (num: number) {\r\n    return `${num}${getPositionByNum(num)}`\r\n}\r\n\r\nexport const EncoreCard = (sc: SectionCard) => {\r\n    const linkRegex = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/\r\n    const isOuterLink = (typeof sc.isOuterLink === 'undefined') ? (sc.link && linkRegex.test(sc.link)) : sc.isOuterLink\r\n    const linkProps = (sc.link ? {\r\n        as: isOuterLink ? 'a' : Link,\r\n        [isOuterLink ? 'href' : 'to']: sc.link,\r\n        target: isOuterLink ? '_blank' : undefined\r\n    } : {})\r\n    const LazyImage = lazyImageOf(sc.lazyImageSrc)\r\n    return (\r\n    <Grid.Column key={sc.title}>\r\n        <div className=\"thumbnail\">\r\n            <Card link {...linkProps} fluid style={{backgroundColor: sc.color}} onClick={sc.onClick}>\r\n                {sc.secondaryImage ? (\r\n                    <Reveal animated='move'>\r\n                        <Reveal.Content visible>\r\n                            {/* <Image src={sc.image} /> */}\r\n                            <LazyImage src={sc.image} />\r\n                        </Reveal.Content>\r\n                        <Reveal.Content hidden>\r\n                            {/* <Image src={sc.secondaryImage} /> */}\r\n                            <LazyImage src={sc.secondaryImage} />\r\n                        </Reveal.Content>\r\n                    </Reveal>\r\n                    ) : <LazyImage src={sc.image}/>\r\n                }\r\n                <Card.Content>\r\n                    <Card.Header className={sc.isDark && \" white-text\" || \"\"}>\r\n                        {sc.title}\r\n                    </Card.Header>\r\n                    {sc.meta && <Card.Meta style={{color: sc.isDark && \"rgba(255, 255, 255, 0.618)\"}}>{sc.meta}</Card.Meta>}\r\n                    {sc.description && <Card.Description className={sc.isDark && \" white-text\" || \"\"}>{sc.description}</Card.Description>}\r\n                </Card.Content>\r\n            </Card>\r\n        </div>\r\n    </Grid.Column>\r\n)}\r\n\r\nexport class EncoreSection extends React.Component<EncoreSectionProps> {\r\n    public render() {\r\n        return (\r\n            <Container className=\"part\">\r\n                <Grid stackable>\r\n                    <Header as=\"h1\">{this.props.title}</Header>\r\n                    <Grid.Row centered columns={2}>\r\n                        <Grid.Column>\r\n                            {this.props.children}\r\n                        </Grid.Column>\r\n                    </Grid.Row>\r\n                    <Grid.Row columns={this.props.columns}>\r\n                        {this.props.data.map(sc => (\r\n                            <LazyComonent key={sc.title}>\r\n                                <EncoreCard {...sc} isDark={this.props.dark} lazyImageSrc={this.props.lazyImageSrc} />\r\n                            </LazyComonent>\r\n                        ))}\r\n                    </Grid.Row>\r\n                </Grid>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport const memberSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const mi = si.members\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    const configs = {\r\n        title: languageGetter({\r\n            cn: '成员',\r\n            en: 'Members',\r\n            jp: 'メンバー'\r\n        }),\r\n        columns: 3 as SemanticColumnNum,\r\n        data: mi.map(m => ({\r\n            title: `${languageGetter(m.name)}`,\r\n            image: getters.memberImageGetter(m),\r\n            secondaryImage: getters.cvImageGetter(m),\r\n            color: m.encoreColor,\r\n            meta: m.role,\r\n            description: `CV:${languageGetter(mergeLanguageAttribute(m.CVName))}`,\r\n            link: `member/${m.name.en.split(' ')[1]}/`\r\n        })),\r\n        dark: true,\r\n        lazyImageSrc: si.siteLogo\r\n    }\r\n    const birthdayMembers = mi.filter(makeCompareOn(x => x.birthday, sameDate()))\r\n    const Plugin = si.plugins.member\r\n\r\n    return (\r\n        <EncoreSection {...configs}>\r\n            {Plugin && <Plugin></Plugin>}\r\n            {birthdayMembers.map(bm => (\r\n                <div className=\"thumbnail\" key={bm.name.en}>\r\n                    <Card link fluid style={{backgroundColor: bm.encoreColor}}>\r\n                        <Image src={getters.memberImageGetter(bm)}/>\r\n                        <Card.Content>\r\n                            <Card.Header className=\"white-text\">\r\n                                {languageGetter(bm.name)}\r\n                            </Card.Header>\r\n                            <Card.Description className=\"white-text\">{languageGetter({\r\n                                cn: '生日快乐',\r\n                                en: 'Happy birthday',\r\n                                jp: 'お誕生日おめでとう'\r\n                            })}, {languageGetter(bm.name)}!</Card.Description>\r\n                        </Card.Content>\r\n                    </Card>\r\n                </div>\r\n            ))}\r\n            \r\n        </EncoreSection>\r\n    )\r\n}\r\n\r\nexport const singleSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const ti = si.singles\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    const Plugin = si.plugins.single\r\n    const sectionProps: EncoreSectionProps = {\r\n        title: languageGetter({\r\n            cn: '单曲',\r\n            en: 'Single',\r\n            jp: 'シングル'\r\n        }),\r\n        columns: 4 as 4,\r\n        data: ti.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: t.displayId || `${t.id}${getPositionByNum(t.id)}`,\r\n            link: `single/${t.displayId || positionWithNumByNum(t.id)}/`\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    }\r\n    return <EncoreSection {...sectionProps}>{Plugin && <LazyComonent><Plugin/></LazyComonent>}</EncoreSection>\r\n}\r\n\r\nexport const albumSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const ti = si.albums!\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    return (new EncoreSection({\r\n        title: languageGetter({\r\n            cn: '专辑',\r\n            en: 'Album',\r\n            jp: 'アルバム'\r\n        }),\r\n        columns: 4,\r\n        data: ti.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} album`,\r\n            link: `album/${t.id}${getPositionByNum(t.id)}/`\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    })).render()\r\n}\r\n\r\nexport const generalSection = (gs: ExternalTrackList, si: SiteConfig, language: SupportedLanguages) => {\r\n    const {getters} = si\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    return <EncoreSection {...{\r\n        title: languageGetter(gs.displayName),\r\n        columns: 4,\r\n        data: gs.trackList.map(t => ({\r\n            title: `${t.title}`,\r\n            image: getters.trackImageGetter(t),\r\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\r\n            meta: t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} ${gs.trackType}`,\r\n            link: `${gs.displayName.en}/` + (t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'}/`)\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    }}/>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/section.tsx","import * as React from 'react'\r\nimport {Image, Placeholder} from 'semantic-ui-react'\r\nimport {LazyComonent} from './lazycomponent'\r\n\r\nexport interface LazyImageProps {\r\n    src: string,\r\n    lazySrc?: string,\r\n    [external: string]: any\r\n}\r\n\r\nexport class LazyImage extends React.Component<LazyImageProps, {loaded: boolean}> {\r\n    public constructor(props: LazyImageProps) {\r\n        super(props)\r\n        this.state = {\r\n            loaded: false\r\n        }\r\n    }\r\n\r\n    public setLoaded = () => {\r\n        this.setState({\r\n            loaded: true\r\n        })\r\n    }\r\n\r\n    private placeHolderImage (withImage: boolean) {\r\n        const {src, lazySrc, ...rest} = this.props\r\n        return (<div>\r\n            {this.props.lazySrc ? (\r\n                <Image className=\"rhodonite-fade-out\" src={lazySrc} {...rest}></Image>\r\n            ) : (\r\n                <Placeholder>\r\n                    <Placeholder.Image></Placeholder.Image>\r\n                </Placeholder>\r\n            )}\r\n            {withImage && <Image src={src} hidden onLoad={this.setLoaded}></Image>}\r\n        </div>)\r\n    }\r\n    \r\n    private imageContent() {\r\n        const {src, lazySrc, ...rest} = this.props\r\n        return (\r\n            <LazyComonent placeHolder={this.placeHolderImage(false)}>\r\n                {this.state.loaded ? <Image className=\"rhodonite-fade-in\" src={src} {...rest}></Image>\r\n                : this.placeHolderImage(true)}\r\n            </LazyComonent>\r\n        )\r\n        // return this.state.visible ? (\r\n        //     this.state.loaded ? <Image src={src} {...rest}></Image>\r\n        //     : this.placeHolderImage(true)\r\n        // ) : (\r\n        //     <div>\r\n        //         <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\r\n        //         {this.placeHolderImage(false)}\r\n        //     </div>\r\n        // )\r\n\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div>\r\n                {this.props.src && this.imageContent()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport function lazyImageOf(lazySrc?: string) {\r\n    return ({src, ...props}: {src: string, [k: string]: any}) => <LazyImage src={src} lazySrc={lazySrc} {...props}></LazyImage>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazyimage.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./encore.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/encore.css\n// module id = 738\n// module chunks = 0","import * as React from 'react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport * as Helpers from '../rhodonite/protocols/helpers'\r\nimport {Container, Header, Segment, Grid, Divider, Label} from 'semantic-ui-react'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport { getLanguageAttribute } from 'src/rhodonite/protocols/helpers'\r\nimport { TitledDocument } from 'src/rhodonite/component';\r\n// import {BannerImage} from './banner'\r\nimport selfish from '../rhodonite/utils/selfish'\r\nimport { NotFound } from './notfound';\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\n\r\nconst notFoundMember: Protocol.MemberInfo = {\r\n    name: {\r\n        cn: '你是谁',\r\n        jp: '誰か',\r\n        en: 'Who are you?'\r\n    },\r\n    CVName: {\r\n        en: '',\r\n        cn: '',\r\n        jp: ''\r\n    },\r\n    role: 'NotFound',\r\n    birthday: '',\r\n    horoscope: '',\r\n    encoreColor: '',\r\n}\r\n\r\ninterface MemberPageLocationParams {\r\n    member: string\r\n}\r\n\r\ninterface MemberPageProps extends RouteComponentProps<MemberPageLocationParams> {\r\n    language: Protocol.SupportedLanguages,\r\n    siteConfig: Protocol.SiteConfig,\r\n    currentMember: Protocol.MemberInfo\r\n}\r\n\r\nexport function iterAttribute(attr: Protocol.MultiLanguageAttribute | Protocol.MultiLanguageAttribute[]) {\r\n    if (attr instanceof Array) return attr\r\n    return [attr]\r\n}\r\n\r\nexport function optionalBoolean (f?: boolean) {\r\n    return typeof f === 'undefined' || f\r\n}\r\n\r\nexport const IndentText = ({indent, children} :{indent?: boolean, children?: any}) => <p style={{textIndent: optionalBoolean(indent) ? '2em' : 'inherit', fontSize: '1.33em'}}>{children}</p>\r\nexport const HiddenText = ({hidden = true, children}: {hidden?: boolean, children?: any}) => <span className={hidden ? \"heimu\" : \"\"}>{children}</span>\r\n\r\nexport class MemberPage extends React.PureComponent<MemberPageProps> {\r\n    private methods = selfish(this)\r\n    public componentWillMount () {\r\n        // tslint:disable-next-line:no-console\r\n        // console.log(this.props)\r\n    }\r\n    public componentDidMount() {\r\n        // tslint:disable-next-line:no-console\r\n        window.scroll(0, 0)\r\n    }\r\n    private getCurrentMember() {\r\n        return this.props.currentMember || this.props.siteConfig.members.filter(x => x.name.en.split(' ')[1].toLowerCase() === this.props.match.params.member.toLowerCase())[0]\r\n    }\r\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\r\n        return getLanguageAttribute(ctx, this.props.language)\r\n    }\r\n    private get member () {\r\n        return this.getCurrentMember() || notFoundMember\r\n    }\r\n    private get memberFound () {\r\n        return !!this.getCurrentMember()\r\n    }\r\n    private get isInBirthday() {\r\n        return Helpers.dummySameDate(new Date, this.member.birthday)\r\n    }\r\n    private memberLayout = () => {\r\n        const member = this.member\r\n        return (\r\n            <div>\r\n                <Header\r\n                as='h1'\r\n                style={{\r\n                    fontSize: '4em',\r\n                    fontWeight: 'normal',\r\n                    marginBottom: 0,\r\n                    marginTop: '3em',\r\n                    color: member.encoreColor\r\n                }}\r\n                >\r\n                    {member.role}.{this.getContextText(member.name)}\r\n                </Header>\r\n                <Header\r\n                as='h2'\r\n                style={{\r\n                    fontSize: '1.7em',\r\n                    fontWeight: 'normal',\r\n                    marginTop: '1.5em',\r\n                    color: member.encoreColor\r\n                }}\r\n                >\r\n                    {this.getContextText(Helpers.mergeLanguageAttribute(member.CVName))}\r\n                </Header>\r\n                {this.isInBirthday && <Label size=\"huge\" icon=\"birthday cake\" content={this.getContextText({\r\n                    cn: '生日快乐',\r\n                    en: 'Happy Birthday',\r\n                    jp: 'お誕生日おめでとう'\r\n                })}/>}\r\n            </div>\r\n        )\r\n    }\r\n    public render() {\r\n        if (!this.memberFound) return <NotFound></NotFound>\r\n        const member = this.member\r\n        const IntroLayout = this.methods.introLayout\r\n        // const getters = this.props.siteConfig.getters\r\n        return (\r\n            <TitledDocument title={this.getContextText(member.name)}>\r\n                <div style={{\r\n                    height: \"61.8vh\"\r\n                }}>\r\n                    <Container text>\r\n                    <div>\r\n                        {this.memberLayout()}\r\n                    </div>\r\n                    \r\n                    </Container>\r\n                </div>\r\n                \r\n                <IntroLayout></IntroLayout>\r\n            </TitledDocument>\r\n            \r\n        )\r\n    }\r\n    private introLayout () {\r\n        const getters = this.props.siteConfig.getters\r\n        const member = this.member\r\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\r\n            <div>\r\n                <Header as='h4' style={{ fontSize: '2em' }}>\r\n                    {this.getContextText(p.header)}\r\n                </Header>\r\n                <IndentText indent={p.indent}>{p.children}</IndentText>\r\n                {/* <IndentText>\r\n                    {p.children}\r\n                </IndentText> */}\r\n                <Divider hidden></Divider>\r\n            </div>\r\n            \r\n        ) : (<div></div>)\r\n        const WikiLink = (wikiName: string, generator: (s: string) => string) => ({wiki, as}: {wiki: string, as?: any}) => (\r\n            React.createElement(as||'p', null, <a href={generator(wiki)}>{wikiName}({wiki})</a>)\r\n        )\r\n        const MoegirlLink = WikiLink('萌娘百科', s => `https://zh.moegirl.org/${s}`)\r\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\r\n        return (\r\n            <Segment style={{ padding: '8em 0em' }} vertical>\r\n                <Grid container stackable verticalAlign='middle'>\r\n                    <Grid.Row>\r\n                    <Grid.Column width={8}>\r\n                        <AttrWithTitle header={{cn: \"生日\", jp:\"誕生日\", en: \"Birthday\"}}>\r\n                            {member.birthday}\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle when={!!member.bloodType} header={{cn: \"血型\", jp:\"血液型\", en: \"Blood Type\"}}>\r\n                            {member.bloodType}\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\r\n                            <ul>\r\n                                <MoegirlLink as=\"li\" wiki={member.name.cn}></MoegirlLink>\r\n                                {iterAttribute(member.CVName).map(mlt => (\r\n                                <MoegirlLink as=\"li\" wiki={mlt.cn} key={mlt.en}></MoegirlLink>\r\n                            ))}\r\n                            </ul>\r\n                            \r\n                            \r\n                        </AttrWithTitle> \r\n                        <AttrWithTitle when={!!member.external} header=\"P.S.\">\r\n                            {member.external && member.external.map(ex => (\r\n                                <AttrWithTitle header={ex.title}>\r\n                                    {(ex.content instanceof Array) ? (\r\n                                        <ul>\r\n                                            {ex.content.map((e, idx) => (\r\n                                                <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\r\n                                            ))}\r\n                                        </ul>\r\n                            ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\r\n                                </AttrWithTitle>\r\n                            ))}\r\n                        </AttrWithTitle>\r\n                    </Grid.Column>\r\n                    <Grid.Column floated='right' width={8}>\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.memberImageGetter(member)} />\r\n                        <Divider hidden />\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.cvImageGetter(member)} />\r\n                    </Grid.Column>\r\n                    </Grid.Row>\r\n                    \r\n                </Grid>\r\n            </Segment>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/member.tsx","import * as React from 'react'\r\nimport './encore.css'\r\n// import {Image} from 'semantic-ui-react'\r\nimport {BannerImageConfig} from '../rhodonite/protocols/encore'\r\n\r\nexport class BannerImage extends React.Component<BannerImageConfig> {\r\n    get gradient () {\r\n        if (typeof this.props.gradient === 'undefined') return \"linear-gradient(45deg, rgba(20, 9, 49, 0.7) 0%, rgba(23, 0, 35, 0.68) 16%, rgba(1, 63, 145, 0.6) 78%, rgba(1, 64, 147, 0.57) 79%, rgba(1, 64, 147, 0.19) 93%, rgba(114, 197, 241, 0) 100%)\"\r\n        return this.props.gradient\r\n    }\r\n    private fillHeight: React.CSSProperties = {\r\n        height: '100vh',\r\n        width: '100%',\r\n    }\r\n    private get backGroundStyle(): React.CSSProperties {\r\n        return {\r\n            ...this.fillHeight,\r\n            backgroundImage: this.gradient ? `${this.gradient}, url('${this.props.background}')` : `url('${this.props.background}')`,\r\n            backgroundSize: 'cover',\r\n            ...(this.props.foreground ? {\r\n                filter: 'blur(25px) saturate(120%)',\r\n                animation: 'blur-clear 1s ease-in-out',\r\n                animationDelay: '1s',\r\n                animationFillMode: 'backwards',\r\n            } : {}),\r\n            \r\n            position: 'absolute',\r\n            zIndex: 1\r\n        }\r\n    }\r\n    private bannerImageStyle: React.CSSProperties = {\r\n        ...this.fillHeight,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'flex-end',\r\n        position: 'absolute',\r\n        zIndex: 2\r\n    }\r\n\r\n    private imageStyle: React.CSSProperties = {\r\n        width: '61.8vw',\r\n        filter: 'contrast(130%)',\r\n        animation: 'blur-clear 1s ease-in-out reverse',\r\n        animationDelay: '2s',\r\n        animationFillMode: 'backwards'\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div>\r\n                <div className=\"hidden-xs banner\" style={{height: '108vh'}}>\r\n                    <div style={this.backGroundStyle}></div>\r\n                    \r\n                    <div style={this.bannerImageStyle}>\r\n                        <div style={{height: 'inherit'}}>{this.props.children}</div>\r\n                        {this.props.foreground &&<img src={this.props.foreground} style={this.imageStyle}></img>}\r\n                    </div>\r\n                    \r\n                </div>\r\n                {/* <div className=\"visible-xs\">\r\n                    <Image src=\"img/logo.png\"></Image>\r\n                </div> */}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/banner.tsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".visible-xs{display:none!important}@media (max-width:767px){.hidden-xs{display:none!important}.visible-xs{display:block!important}}@-webkit-keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}@keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}.part{-webkit-box-shadow:11px 7px 15px rgba(0,0,0,.2);box-shadow:11px 7px 15px rgba(0,0,0,.2);padding:25px 20px 5px;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s}.part,.part:hover{border-radius:15px 15px 15px 15px;background-color:#fff;margin-bottom:25px}.part:hover{-webkit-transition:padding .25s;-o-transition:padding .25s;transition:padding .25s;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s;-webkit-box-shadow:20px 20px 17px 0 rgba(0,0,0,.2);box-shadow:20px 20px 17px 0 rgba(0,0,0,.2)}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143}.thumbnail>img,.thumbnail a>img{margin-right:auto;margin-left:auto}.member{margin-top:-30px}.white-text{color:#fff!important}\", \"\", {\"version\":3,\"sources\":[\"D:/DEV/HTML/rslacdn/roselia-encore-react/src/components/encore.css\"],\"names\":[],\"mappings\":\"AAAA,YACI,sBAAyB,CAC5B,AACD,yBACI,WACE,sBAAyB,CAC1B,AACD,YACI,uBAA0B,CAC7B,CACJ,AAED,8BACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,sBACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,MAGI,gDAAoD,AAC5C,wCAA4C,AACpD,sBAA4B,AAE5B,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,0FAA+F,CAClG,AACD,kBAZI,kCAAmC,AACnC,sBAAqC,AAIrC,kBAAoB,CAqBvB,AAdD,YACI,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,2FAA+F,AAG/F,mDAAyD,AACjD,0CAAiD,CAE5D,AAED,WACI,cAAe,AACf,YAAa,AACb,mBAAoB,AACpB,sBAAwB,CAC3B,AAED,gCAEI,kBAAmB,AACnB,gBAAkB,CACrB,AAED,QACI,gBAAkB,CACrB,AAED,YACI,oBAAuB,CAC1B\",\"file\":\"encore.css\",\"sourcesContent\":[\".visible-xs {\\r\\n    display: none !important;\\r\\n}\\r\\n@media (max-width: 767px) {\\r\\n    .hidden-xs {\\r\\n      display: none !important;\\r\\n    }\\r\\n    .visible-xs {\\r\\n        display: block !important;\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes blur-clear {\\r\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\r\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\r\\n}\\r\\n\\r\\n@keyframes blur-clear {\\r\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\r\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\r\\n}\\r\\n\\r\\n.part {\\r\\n    border-radius: 15px 15px 15px 15px;\\r\\n    background-color: rgb(255, 255, 255);\\r\\n    -webkit-box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\r\\n            box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\r\\n    padding: 25px 20px 5px 20px;\\r\\n    margin-bottom: 25px;\\r\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n}\\r\\n.part:hover {\\r\\n    -webkit-transition: padding .25s;\\r\\n    -o-transition: padding .25s;\\r\\n    transition: padding .25s;\\r\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s;\\r\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\r\\n    border-radius: 15px 15px 15px 15px;\\r\\n    background-color: rgb(255, 255, 255);\\r\\n    -webkit-box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\r\\n            box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\r\\n    margin-bottom: 25px;\\r\\n}\\r\\n\\r\\n.thumbnail {\\r\\n    display: block;\\r\\n    padding: 4px;\\r\\n    margin-bottom: 20px;\\r\\n    line-height: 1.42857143;\\r\\n}\\r\\n\\r\\n.thumbnail > img,\\r\\n.thumbnail a > img {\\r\\n    margin-right: auto;\\r\\n    margin-left: auto;\\r\\n}\\r\\n\\r\\n.member {\\r\\n    margin-top: -30px;\\r\\n}\\r\\n\\r\\n.white-text {\\r\\n    color: #fff !important;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/encore.css\n// module id = 741\n// module chunks = 0","import * as React from 'react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport * as Helpers from '../rhodonite/protocols/helpers'\r\nimport {RouteComponentProps} from 'react-router'\r\nimport {HiddenText, IndentText, optionalBoolean} from './member'\r\nimport {Header, Container, Segment, Divider, Grid, Label} from 'semantic-ui-react'\r\nimport { NotFound } from './notfound';\r\nimport { TitledDocument } from 'src/rhodonite/component';\r\nimport {lazyImageOf} from '../rhodonite/lazyimage'\r\n// import {cached} from '../rhodonite/utils/property'\r\n\r\ninterface TrackLocationProps {\r\n    trackType: Protocol.TrackType\r\n    trackId: string\r\n}\r\ninterface TrackPageProps extends RouteComponentProps<TrackLocationProps> {\r\n    language: Protocol.SupportedLanguages\r\n    siteConfig: Protocol.SiteConfig\r\n}\r\n\r\nconst {getPositionByNum} = Helpers\r\n\r\nclass TrackPage extends React.Component<TrackPageProps> {\r\n    private cachedTrack: Protocol.TrackInfo | undefined = undefined\r\n    protected getCurrentTrack (): Protocol.TrackInfo | undefined {\r\n        return undefined // Should be overloaded\r\n    }\r\n    public componentDidMount () {\r\n        window.scrollTo(0, 0)\r\n    }\r\n\r\n    // @cached\r\n    protected findIn (ls: Protocol.TrackInfo[]) {\r\n        const regex = /(\\d+)(\\w+)/\r\n        const matchRes = regex.exec(this.props.match.params.trackId)\r\n        if (matchRes) {\r\n            const [_, idx, pos] = matchRes\r\n            const intIdx = parseInt(idx, 10)\r\n            if (getPositionByNum(intIdx) === pos.toLowerCase()) return ls.find(x => x.id === intIdx)\r\n            return void 0\r\n        }\r\n        return ls.find(x => x.displayId === this.props.match.params.trackId)\r\n    }\r\n\r\n    private get track () {\r\n        if (this.cachedTrack) return this.cachedTrack\r\n        return this.cachedTrack = this.getCurrentTrack()!\r\n    }\r\n    private hasValidTrack () {\r\n        return !!this.track\r\n    }\r\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\r\n        return Helpers.getLanguageAttribute(ctx, this.props.language)\r\n    }\r\n\r\n    private get calendarIconClass() {\r\n        try{\r\n            const date = new Date(this.track.releaseDate)\r\n            const today = new Date\r\n            if (Helpers.sameDate(today, true)(date)) return 'calendar alternate outline'\r\n            if (date > today) return 'calendar plus outline'\r\n            return 'calendar check outline'\r\n        } catch {\r\n            return 'calendar outline'\r\n        }\r\n        \r\n    }\r\n\r\n    private get localReleaseDate () {\r\n        try {\r\n            return (new Date(this.track.releaseDate)).toLocaleDateString()\r\n        } catch {\r\n            return this.track.releaseDate\r\n        }\r\n    }\r\n    \r\n    private introLayout () {\r\n        const track = this.track\r\n        return (\r\n            <div>\r\n                <Header\r\n                as='h1'\r\n                style={{\r\n                    fontSize: '4em',\r\n                    fontWeight: 'normal',\r\n                    marginBottom: 0,\r\n                    marginTop: '3em'\r\n                }}\r\n                >\r\n                    {track.title}\r\n                </Header>\r\n                <Header\r\n                as='h2'\r\n                style={{\r\n                    fontSize: '1.7em',\r\n                    fontWeight: 'normal',\r\n                    marginTop: '1.5em'\r\n                }}\r\n                >\r\n                    {track.displayId ? track.displayId : `${track.id}${getPositionByNum(track.id)} ${Helpers.capatialize(track.type||'')}`}\r\n                </Header>\r\n                <Label size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}></Label>\r\n            </div>\r\n        )\r\n    }\r\n    private infoLayout () {\r\n        const getters = this.props.siteConfig.getters\r\n        const track = this.track\r\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\r\n            <div>\r\n                <Header as='h4' style={{ fontSize: '2em' }}>\r\n                    {this.getContextText(p.header)}\r\n                </Header>\r\n                <IndentText indent={p.indent}>{p.children}</IndentText>\r\n                {/* <IndentText>\r\n                    {p.children}\r\n                </IndentText> */}\r\n                <Divider hidden></Divider>\r\n            </div>\r\n            \r\n        ) : (<div></div>)\r\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\r\n        \r\n        return (\r\n            <Segment style={{ padding: '8em 0em' }} vertical>\r\n                <Grid container stackable verticalAlign='middle'>\r\n                    <Grid.Row>\r\n                    <Grid.Column width={8}>\r\n                        <AttrWithTitle indent={false} header={{cn: \"音轨\", jp:\"収録内容\", en:\"Track\"}}>\r\n                            <ol>\r\n                                {track.track.map((s, i) => (\r\n                                    <li key={i}>{s}</li>\r\n                                ))}\r\n                            </ol>\r\n                        </AttrWithTitle>\r\n                        <AttrWithTitle when={!!track.links} indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\r\n                            <ul>\r\n                                {track.links && track.links.map((l, i) => (\r\n                                    <li key={i}><a href={l.link}>{l.description}</a></li>\r\n                                ))}\r\n                            </ul>\r\n                            \r\n                            \r\n                        </AttrWithTitle> \r\n                        {track.external && track.external.map(ex => (\r\n                            <AttrWithTitle key={ex.title} header={ex.title}>\r\n                                {(ex.content instanceof Array) ? (\r\n                                    <ul>\r\n                                        {ex.content.map((e, idx) => (\r\n                                            <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\r\n                                        ))}\r\n                                    </ul>\r\n                        ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\r\n                            </AttrWithTitle>\r\n                        ))}\r\n                    </Grid.Column>\r\n                    <Grid.Column floated='right' width={8}>\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.trackImageGetter(track)} />\r\n                        <Divider hidden />\r\n                        {track.hasLimitedEdition && (\r\n                        <LazyImage fluid bordered rounded size='massive' src={getters.limitedTrackImageGetter(track)} />)}\r\n                    </Grid.Column>\r\n                    </Grid.Row>\r\n                    \r\n                </Grid>\r\n            </Segment>\r\n        )\r\n    }\r\n    public render() {\r\n        const track = this.track\r\n        if (!this.hasValidTrack()) {\r\n            return <NotFound></NotFound>\r\n        }\r\n        return (\r\n            <TitledDocument title={track.title}>\r\n                <div style={{\r\n                    height: \"61.8vh\"\r\n                }}>\r\n                    <Container text>\r\n                    <div>\r\n                        {this.introLayout()}\r\n                    </div>\r\n                    \r\n                    </Container>\r\n                </div>\r\n                {this.infoLayout()}\r\n                {/* <IntroLayout></IntroLayout> */}\r\n            </TitledDocument>\r\n        )\r\n    }\r\n}\r\n\r\nexport class SingleTrackPage extends TrackPage {\r\n    protected getCurrentTrack () {\r\n        return this.findIn(this.props.siteConfig.singles)\r\n    }\r\n}\r\n\r\nexport class AlbumTrackPage extends TrackPage {\r\n    protected getCurrentTrack() {\r\n        return this.findIn(this.props.siteConfig.albums!)\r\n    }\r\n}\r\n\r\nexport function customTrackPage(tp: Protocol.ExternalTrackList) {\r\n    return class extends TrackPage {\r\n        protected getCurrentTrack () {\r\n            return this.findIn(tp.trackList)\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/track.tsx","import * as React from 'react'\r\nimport {Modal, Grid, Header, Divider} from 'semantic-ui-react'\r\nimport * as Protocol from '../rhodonite/protocols/encore'\r\nimport {/*RouteComponentProps,*/ Route} from 'react-router'\r\nimport {EncoreSection, EncoreSectionProps, EncoreCard} from './section'\r\n\r\nexport interface RouterParams {\r\n    recommandId: string\r\n}\r\n\r\ninterface VideoSectionProps {\r\n    siteConfig: Protocol.SiteConfig\r\n    videos: Protocol.RecommandVideoAdapter[]\r\n    indexPage: string\r\n}\r\n\r\nexport interface VideoModalProps /*extends RouteComponentProps<RouterParams>*/ {\r\n    visible: boolean\r\n    videoLib: Protocol.RecommandVideoAdapter[]\r\n    forceVideo?: Protocol.RecommandVideoAdapter\r\n    onClose?: () => void\r\n}\r\n\r\ninterface VideoSectionState {\r\n    isVisible: boolean\r\n    currentVideo?: Protocol.RecommandVideoAdapter\r\n}\r\n\r\nclass VideoModal extends React.Component<VideoModalProps> {\r\n    \r\n    private getVideoAdapter(): Protocol.RecommandVideoAdapter | undefined {\r\n        const props = this.props\r\n        if(props.forceVideo) return props.forceVideo\r\n        return undefined\r\n        // const idx = parseInt(props.match.params.recommandId, 10)\r\n        // if (isNaN(idx)) return undefined\r\n        // return props.videoLib[idx]\r\n    }\r\n    private get videoAdapter() {\r\n        return this.getVideoAdapter()!\r\n    }\r\n\r\n    private renderModal() {\r\n        const adapter = this.videoAdapter\r\n        const video = adapter && adapter.videos\r\n        if (!video) return null\r\n        const videos = video.videos\r\n        return (\r\n            <Modal dimmer=\"blurring\" open={this.props.visible} onClose={this.props.onClose}>\r\n                <Modal.Header>{video.name}</Modal.Header>\r\n                <Modal.Content>\r\n                    {video.authors.length === 1 && \r\n                    (<div>\r\n                        <Modal.Description>\r\n                            <Header>{video.authors[0]}</Header>\r\n                        </Modal.Description>\r\n                        <Divider/>\r\n                    </div>)\r\n                    }\r\n                    <Grid stackable>\r\n                        <Grid.Row columns={4}>\r\n                            {videos.map(v => (\r\n                                <EncoreCard key={v.title} {...{\r\n                                    title: v.title,\r\n                                    image: v.coverImage,\r\n                                    link: adapter.getLink(v.aid),\r\n                                    meta: video.authors.length === 1 ? undefined : v.author\r\n                                }}></EncoreCard>\r\n                            ))}\r\n                        </Grid.Row>\r\n                    </Grid>\r\n                    \r\n                </Modal.Content>\r\n            </Modal>\r\n        )\r\n    }\r\n    public render() {\r\n        return this.renderModal()\r\n    }\r\n}\r\n\r\nexport class VideoSection extends React.Component<VideoSectionProps, VideoSectionState> {\r\n    public constructor(props: VideoSectionProps) {\r\n        super(props)\r\n        this.state = {\r\n            isVisible: false,\r\n            currentVideo: undefined\r\n        }\r\n    }\r\n\r\n    private section = () => {\r\n        const sectionProps: EncoreSectionProps = {\r\n            title: '更多资源……',\r\n            columns: 4,\r\n            data: (this.props.videos).map(v => {\r\n                const video = v.videos!\r\n                return ({\r\n                    title: video.name,\r\n                    image: video.videos![0].coverImage,\r\n                    meta: video.authors.length === 1 ? video.authors[0] : undefined,\r\n                    link: video.videos.length === 1 ? video.getLink(video.videos[0].aid) : undefined,\r\n                    onClick: () => {\r\n                        this.setState({\r\n                            currentVideo: v,\r\n                            isVisible: true\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        return <EncoreSection {...sectionProps}></EncoreSection>\r\n    }\r\n\r\n    public closeModal = () => this.setState({\r\n        isVisible: false\r\n    })\r\n\r\n    // public renderModal = (props: RouteComponentProps<RouterParams>) => (\r\n    //     <VideoModal videoLib={this.props.videos} visible={true} {...props}></VideoModal>\r\n    // )\r\n\r\n    public render() {\r\n        return (<div>\r\n            <Route path={this.props.indexPage} render={this.section}></Route>\r\n            <VideoModal videoLib={this.props.videos} visible={this.state.isVisible} forceVideo={this.state.currentVideo} onClose={this.closeModal}></VideoModal>\r\n            {/* <Route path={this.props.indexPage + '/recommand/:recommandId/'} render={this.renderModal}></Route> */}\r\n        </div>)\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/video.tsx","import * as React from 'react'\r\nimport {EncoreSection, EncoreSectionProps} from './section'\r\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig} from '../rhodonite/protocols/encore'\r\nimport {getLanguageAttribute} from '../rhodonite/protocols/helpers'\r\n\r\nexport const bangumiSection = (si: SiteConfig, language: SupportedLanguages) => {\r\n    const ti = si.bangumiList!\r\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\r\n    const sectionProps: EncoreSectionProps = {\r\n        title: languageGetter({\r\n            cn: '番剧',\r\n            en: 'Anime',\r\n            jp: 'アニメ番組'\r\n        }),\r\n        columns: 4 as 4,\r\n        data: ti.map(t => ({\r\n            title: `${t.name}`,\r\n            image: t.coverImage,\r\n            meta: t.meta,\r\n            link: t.link\r\n        })),\r\n        lazyImageSrc: si.siteLogo\r\n    }\r\n    return <EncoreSection {...sectionProps}></EncoreSection>\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/bangumi.tsx"],"sourceRoot":""}