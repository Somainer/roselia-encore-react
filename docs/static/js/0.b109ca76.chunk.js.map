{"version":3,"sources":["components/index.tsx","rhodonite/lazycomponent.tsx","webpack:///./src/rhodonite/lazycomponent.css?c96c","rhodonite/lazycomponent.css","components/section.tsx","rhodonite/lazyimage.tsx","rhodonite/smartLink.tsx","webpack:///./src/components/encore.css?4bfb","components/member.tsx","rhodonite/utils/naiveical.ts","components/banner.tsx","components/encore.css","rhodonite/utils/colorUtils.ts","components/track.tsx","../node_modules/file-saver/dist/FileSaver.min.js","components/video.tsx","components/bangumi.tsx"],"names":["Index","_super","__WEBPACK_IMPORTED_MODULE_0_tslib__","Object","defineProperty","prototype","siteConfig","this","props","language","renderComponent","RenderComponent","eternal","_this","__WEBPACK_IMPORTED_MODULE_1_react__","strictProps","componentDidMount","document","title","index","site","className","__WEBPACK_IMPORTED_MODULE_2__components_banner__","bannerImage","style","textAlign","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","centered","src","siteLogo","logoSpin","Group","__WEBPACK_IMPORTED_MODULE_5_react_router_dom__","to","color","configName","undefined","Or","__WEBPACK_IMPORTED_MODULE_13__rhodonite_lazycomponent__","__WEBPACK_IMPORTED_MODULE_3__components_section__","albums","externalTrackLists","map","et","bangumiList","__WEBPACK_IMPORTED_MODULE_12__bangumi__","videos","__WEBPACK_IMPORTED_MODULE_11__video__","indexPage","match","path","externalLinks","render","StatedRoute","_a","component","rest","__WEBPACK_IMPORTED_MODULE_8__rhodonite_component__","AsyncMemberPage","__WEBPACK_IMPORTED_MODULE_7__rhodonite_asynccomponent__","Promise","resolve","then","__webpack_require__","bind","p","MemberPage","parentPath","__WEBPACK_IMPORTED_MODULE_6_react_router__","exact","__WEBPACK_IMPORTED_MODULE_10__track__","etl","displayName","en","__WEBPACK_IMPORTED_MODULE_9__notfound__","LazyComonent","call","setVisible","onVisible","setState","visible","state","shouldComponentUpdate","getPlaceHolder","placeHolder","Function","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","Paragraph","listener","once","onTopVisible","onBottomVisible","children","content","module","i","options","hmr","transform","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","EncoreCard","sc","linkProps","__WEBPACK_IMPORTED_MODULE_7__rhodonite_smartLink__","semanticProps","LazyImage","__WEBPACK_IMPORTED_MODULE_5__rhodonite_lazyimage__","lazyImageSrc","Column","key","link","fluid","background","onClick","secondaryImage","animated","Content","image","hidden","Header","isDark","meta","Meta","description","Description","EncoreSection","stackable","as","Row","columns","data","__WEBPACK_IMPORTED_MODULE_6__rhodonite_lazycomponent__","dark","memberSection","si","mi","members","getters","languageGetter","ml","__WEBPACK_IMPORTED_MODULE_4__rhodonite_protocols_helpers__","configs","cn","jp","m","name","memberImageGetter","cvImageGetter","encoreColor","role","CVName","split","__WEBPACK_IMPORTED_MODULE_8_src_rhodonite_utils_colorUtils__","birthdayMembers","filter","x","birthday","Plugin","plugins","member","bm","backgroundColor","singleSection","ti","singles","single","sectionProps","t","trackImageGetter","hasLimitedEdition","limitedTrackImageGetter","displayId","id","num","positionWithNumByNum","albumSection","generalSection","gs","trackList","trackType","linkSection","concat","lazySrc","setLoaded","loaded","placeHolderImage","withImage","Image","onLoad","imageContent","__WEBPACK_IMPORTED_MODULE_3__lazycomponent__","linkRegex","TargetLink","isOuterLink","test","__WEBPACK_IMPORTED_MODULE_2_react_router_dom__","renderLink","extraProps","renderHref","href","target","componentType","propsSlot","notFoundMember","horoscope","iterAttribute","attr","Array","optionalBoolean","f","IndentText","indent","textIndent","fontSize","HiddenText","_b","apply","arguments","methods","__WEBPACK_IMPORTED_MODULE_6__rhodonite_utils_selfish__","downloadICal","ical","__WEBPACK_IMPORTED_MODULE_10_src_rhodonite_utils_naiveical__","addMemberBirthday","location","dummyDownload","getContextText","memberLayout","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","fontWeight","marginBottom","marginTop","__WEBPACK_IMPORTED_MODULE_2__rhodonite_protocols_helpers__","isInBirthday","size","icon","trigger","componentWillMount","window","scroll","getCurrentMember","currentMember","toLowerCase","params","ctx","__WEBPACK_IMPORTED_MODULE_4_src_rhodonite_protocols_helpers__","Date","memberFound","__WEBPACK_IMPORTED_MODULE_7__notfound__","IntroLayout","introLayout","__WEBPACK_IMPORTED_MODULE_5_src_rhodonite_component__","minHeight","text","AttrWithTitle","when","header","MoegirlLink","wikiName","generator","wiki","__WEBPACK_IMPORTED_MODULE_9_src_rhodonite_smartLink__","WikiLink","s","__WEBPACK_IMPORTED_MODULE_8__rhodonite_lazyimage__","padding","vertical","container","verticalAlign","width","bloodType","mlt","external","ex","e","idx","floated","bordered","rounded","NaiveRoseliaiCal","beginTemplate","body","eventTemplate","summary","start","end","allDay","repeat","url","frequent","toUpperCase","interval","encodeURI","events","formatDate","d","toISOString","replace","formatDateFromString","delta","date","setMinutes","getMinutes","getTimezoneOffset","getTime","makeCalendar","join","toString","trim","addEvent","event","forEach","ev","addTrackRelease","track","releaseDate","__WEBPACK_IMPORTED_MODULE_1__protocols_helpers__","type","getLanguage","month","dt","setMonth","parseInt","setDate","getBlob","Blob","getBlobAsync","getBlobUrl","blob","sent","URL","createObjectURL","releaseBlobUrl","revokeObjectURL","downloadCalendar","fileName","__WEBPACK_IMPORTED_MODULE_2_file_saver__","createElement","download","click","setTimeout","getDataURLAsync","r","fr","FileReader","addEventListener","result","readAsDataURL","BannerImage","fillHeight","height","bannerImageStyle","display","justifyContent","alignItems","position","zIndex","imageStyle","animation","animationDelay","animationFillMode","gradient","backgroundImage","backgroundSize","foreground","backGroundStyle","__webpack_exports__","onBright","onDark","defaultValue","isBright","getLuminance","red","green","blue","luminance","lowerColor","startsWith","rgb","n","splitRGB","hexColor","substring","length","tp","class_1","getCurrentTrack","findIn","TrackPage","getPositionByNum","cachedTrack","rCal","__WEBPACK_IMPORTED_MODULE_9_src_rhodonite_utils_naiveical__","scrollTo","ls","matchByDisplayid","find","trackId","matchRes","exec","pos","intIdx_1","hasValidTrack","released","trackReleaseState","today","toLocaleDateString","calendarIconClass","localReleaseDate","infoLayout","__WEBPACK_IMPORTED_MODULE_3__member__","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazyimage__","links","l","__WEBPACK_IMPORTED_MODULE_8_src_rhodonite_smartLink__","__WEBPACK_IMPORTED_MODULE_6_src_rhodonite_component__","__WEBPACK_IMPORTED_MODULE_5__notfound__","SingleTrackPage","AlbumTrackPage","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","a","b","c","XMLHttpRequest","open","responseType","onload","response","onerror","console","error","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","self","saveAs","HTMLAnchorElement","g","h","webkitURL","j","rel","origin","navigator","msSaveOrOpenBlob","autoBom","warn","innerText","HTMLElement","safari","userAgent","onloadend","k","VideoModal","getVideoAdapter","forceVideo","renderModal","adapter","videoAdapter","video","dimmer","onClose","authors","v","__WEBPACK_IMPORTED_MODULE_4__section__","coverImage","getLink","aid","author","VideoSection","section","currentVideo","isVisible","closeModal","__WEBPACK_IMPORTED_MODULE_3_react_router__","videoLib","bangumiSection","__WEBPACK_IMPORTED_MODULE_3__rhodonite_protocols_helpers__","__WEBPACK_IMPORTED_MODULE_2__section__"],"mappings":"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","file":"static/js/0.b109ca76.chunk.js","sourcesContent":["import * as React from 'react'\n\n// import starlight from '../encoreInfo/starlight'\n// import roselia from '../encoreInfo/roselia'\n\nimport {BannerImage} from '../components/banner'\nimport {memberSection, singleSection, albumSection, generalSection, linkSection} from '../components/section'\nimport { SiteConfig, SupportedLanguages } from 'src/rhodonite/protocols/encore';\nimport { Image, Button } from 'semantic-ui-react'\nimport {Link} from 'react-router-dom'\nimport {Route, Switch} from 'react-router'\nimport {asyncComponent} from '../rhodonite/asynccomponent'\nimport {ScrollToTopRouter} from '../rhodonite/component'\nimport {RouteComponentProps} from 'react-router'\nimport { NotFound } from './notfound';\nimport { SingleTrackPage, AlbumTrackPage, customTrackPage } from './track'\nimport {VideoSection} from './video'\nimport {bangumiSection} from './bangumi'\nimport {LazyComonent} from '../rhodonite/lazycomponent'\n\ninterface IndexProps extends RouteComponentProps<{}> {\n    siteConfig: SiteConfig\n    language: SupportedLanguages\n}\n\nexport class Index extends React.Component<IndexProps, {}> {\n\n    /*private setEncore (obj: SiteConfig) {\n        return () => this.setState({\n            siteConfig: obj\n        })\n    }*/\n    private get strictProps () {\n        return {\n            siteConfig: this.props.siteConfig,\n            language: this.props.language\n        }\n    }\n    private renderComponent(RenderComponent: React.ComponentType<any>, eternal: any) {\n        return (props: object) => {\n            return (<RenderComponent {...props} {...this.strictProps} {...eternal}></RenderComponent>)\n        }\n    }\n\n    public componentDidMount() {\n        document.title = this.props.siteConfig.title\n    }\n\n    private index() {\n        const site = this.props.siteConfig\n        return (\n            <div className=\"App\">\n                <BannerImage {...site.bannerImage}></BannerImage>\n                <header className=\"App-header\" style={{textAlign: 'center'}}>\n                    <Image centered src={site.siteLogo} className={site.logoSpin ? \"App-logo\" : \"\"} />\n                    {/* <img src={logo} className=\"App-logo\"></img> */}\n                    <h1 className=\"App-title\">{site.title}</h1>\n                    {/* <p>Current config: {site.configName}</p> */}\n                    <p className=\"App-intro\">\n                    <p>Made with love by Somainer</p>\n                    </p>\n                    <p>为了演示可扩展性，目前这里有两个预制配置，阁下（DD）想要看哪一个？</p>\n                    <Button.Group>\n                    <Link to=\"/\"><Button color={site.configName === 'roselia' ? 'violet' : undefined}>Roselia</Button></Link>\n                    <Button.Or />\n                    <Link to=\"/starlight/\"><Button color={site.configName === 'starlight' ? 'black' : undefined}>Revue Starlight</Button></Link>\n                    </Button.Group>\n                </header>\n                <LazyComonent>\n                    {memberSection(site, this.props.language)}\n                </LazyComonent>\n                <LazyComonent>\n                    {singleSection(site, this.props.language)}\n                    {site.albums && albumSection(site, this.props.language)}\n                    {site.externalTrackLists && site.externalTrackLists.map(et => generalSection(et, site, this.props.language))}\n                </LazyComonent>\n                <LazyComonent>\n                    {site.bangumiList && bangumiSection(site, this.props.language)}\n                    {site.videos ? <VideoSection siteConfig={site} videos={site.videos} indexPage={this.props.match.path}></VideoSection> : null}\n                </LazyComonent>\n                {site.externalLinks && (\n                    <LazyComonent>\n                        {linkSection(site.externalLinks, this.props.language)}\n                    </LazyComonent>\n                )}\n            </div>\n        )\n    }\n\n    public render () {\n        const StatedRoute = ({component, ...rest}: {component: React.ComponentType, [att: string]: any}) => (\n            <ScrollToTopRouter {...rest} render={this.renderComponent(component, rest.eternal)}></ScrollToTopRouter>\n          )\n        const AsyncMemberPage = asyncComponent(() => import('../components/member').then(p => p.MemberPage))\n        const parentPath = this.props.match.path\n        return (<div>\n            <Switch>\n                <Route exact path={parentPath}>{this.index()}</Route>\n                {/* <Route path=\"member/:member\"></Route> */}\n                <StatedRoute path={parentPath + \"member/:member/\"} component={AsyncMemberPage}></StatedRoute>\n                <StatedRoute path={parentPath + \"single/:trackId/\"} component={SingleTrackPage}></StatedRoute>\n                {this.props.siteConfig.albums && (\n                    <StatedRoute path={parentPath + \"album/:trackId/\"} component={AlbumTrackPage}></StatedRoute>\n                )}\n                {this.props.siteConfig.externalTrackLists && this.props.siteConfig.externalTrackLists.map(etl => (\n                    <StatedRoute path={parentPath + `${etl.displayName.en}/:trackId/`} component={customTrackPage(etl)}></StatedRoute>\n                ))}\n                <Route component={NotFound}></Route>\n            </Switch>\n            \n        </div>)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.tsx","import * as React from 'react'\nimport {Placeholder, Visibility} from 'semantic-ui-react'\nimport './lazycomponent.css'\n\n\ninterface LazyComonentState {\n    visible: boolean\n}\n\n\ninterface LazyComonentProps {\n    placeHolder?: (() => JSX.Element | React.ReactNode) | JSX.Element | React.ReactNode\n    onVisible?: () => void\n    [ext: string]: any\n}\n\n\nexport class LazyComonent extends React.Component<LazyComonentProps, LazyComonentState> {\n    public constructor(props: LazyComonentProps) {\n        super(props)\n        this.state = {\n            visible: false\n        }\n    }\n    private setVisible = () => {\n        if(this.props.onVisible) this.props.onVisible()\n        this.setState({\n            visible: true\n        })\n    }\n    public shouldComponentUpdate () {\n        return this.state.visible\n    }\n    private getPlaceHolder () {\n        const {placeHolder} = this.props\n        if (placeHolder) {\n            if(placeHolder instanceof Function) {\n                return placeHolder()\n            }\n            return placeHolder\n        }\n        return (\n            <Placeholder>\n                <Placeholder.Paragraph></Placeholder.Paragraph>\n            </Placeholder>\n        )\n    }\n    private listener () {\n        return (\n            <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\n        )\n    }\n    public render() {\n        return this.state.visible ? this.props.children : (\n            <div>\n                {this.listener()}\n                {this.getPlaceHolder()}\n            </div>\n        )\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazycomponent.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./lazycomponent.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rhodonite/lazycomponent.css\n// module id = 737\n// module chunks = 0 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}@keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}.rhodonite-fade-in{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out;animation:rhodonite-fade-in-animate .37s ease-in-out}.rhodonite-fade-out{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out reverse;animation:rhodonite-fade-in-animate .37s ease-in-out reverse}\", \"\", {\"version\":3,\"sources\":[\"/Users/mohuetykirisame/Documents/GitHub/roselia-encore-react/src/rhodonite/lazycomponent.css\"],\"names\":[],\"mappings\":\"AAAA,6CACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,qCACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,mBACI,6DAA8D,AACtD,oDAAsD,CACjE,AACD,oBACI,qEAAsE,AAC9D,4DAA8D,CACzE\",\"file\":\"lazycomponent.css\",\"sourcesContent\":[\"@-webkit-keyframes rhodonite-fade-in-animate {\\n    from {opacity: 0;}\\n    to {opacity: 1;}\\n}\\n\\n@keyframes rhodonite-fade-in-animate {\\n    from {opacity: 0;}\\n    to {opacity: 1;}\\n}\\n\\n.rhodonite-fade-in {\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out;\\n            animation: rhodonite-fade-in-animate .37s ease-in-out;\\n}\\n.rhodonite-fade-out {\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\n            animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/rhodonite/lazycomponent.css\n// module id = 738\n// module chunks = 0 1","import * as React from 'react'\nimport {Grid, Image, Container, Card, Header, Reveal} from 'semantic-ui-react'\nimport './encore.css'\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig, ExternalTrackList, ExternalLinks} from '../rhodonite/protocols/encore'\nimport {mergeLanguageAttribute, getLanguageAttribute, sameDate, makeCompareOn, getLast} from '../rhodonite/protocols/helpers'\nimport {getPositionByNum} from '../rhodonite/protocols/helpers'\nimport {lazyImageOf} from '../rhodonite/lazyimage'\nimport {LazyComonent} from '../rhodonite/lazycomponent'\nimport {TargetLink} from '../rhodonite/smartLink'\nimport { selectByLuminance } from 'src/rhodonite/utils/colorUtils';\n\ntype SemanticColumnNum = 1 | 3 | 4\n\nexport interface EncoreSectionProps {\n    title: string\n    columns: SemanticColumnNum,\n    data: SectionCard[],\n    dark?: boolean,\n    lazyImageSrc?: string\n}\n\ninterface SectionCard {\n    title: string,\n    image: string,\n    secondaryImage?: string,\n    color?: string,\n    link?: string,\n    meta?: string,\n    description?: string\n    isDark?: boolean,\n    lazyImageSrc?: string,\n    isOuterLink?: boolean\n    onClick?: () => void\n}\n\nfunction positionWithNumByNum (num: number) {\n    return `${num}${getPositionByNum(num)}`\n}\n\nexport const EncoreCard = (sc: SectionCard) => {\n    const linkProps = (new TargetLink(sc)).semanticProps\n    const LazyImage = lazyImageOf(sc.lazyImageSrc)\n    return (\n    <Grid.Column key={sc.title}>\n        <div className=\"thumbnail\">\n            <Card link {...linkProps} fluid style={{background: sc.color}} onClick={sc.onClick}>\n                {sc.secondaryImage ? (\n                    <Reveal animated='move'>\n                        <Reveal.Content visible>\n                            {/* <Image src={sc.image} /> */}\n                            <LazyImage src={sc.image} />\n                        </Reveal.Content>\n                        <Reveal.Content hidden>\n                            {/* <Image src={sc.secondaryImage} /> */}\n                            <LazyImage src={sc.secondaryImage} />\n                        </Reveal.Content>\n                    </Reveal>\n                    ) : <LazyImage src={sc.image}/>\n                }\n                <Card.Content>\n                    <Card.Header className={sc.isDark && \" white-text\" || \"\"}>\n                        {sc.title}\n                    </Card.Header>\n                    {sc.meta && <Card.Meta style={{color: sc.isDark && \"rgba(255, 255, 255, 0.618)\"}}>{sc.meta}</Card.Meta>}\n                    {sc.description && <Card.Description className={sc.isDark && \" white-text\" || \"\"}>{sc.description}</Card.Description>}\n                </Card.Content>\n            </Card>\n        </div>\n    </Grid.Column>\n)}\n\nexport class EncoreSection extends React.Component<EncoreSectionProps> {\n    public render() {\n        return (\n            <Container className=\"part\">\n                <Grid stackable>\n                    <Header as=\"h1\">{this.props.title}</Header>\n                    <Grid.Row centered columns={2}>\n                        <Grid.Column>\n                            {this.props.children}\n                        </Grid.Column>\n                    </Grid.Row>\n                    <Grid.Row columns={this.props.columns}>\n                        {this.props.data.map(sc => (\n                            <LazyComonent key={sc.title}>\n                                <EncoreCard isDark={this.props.dark} {...sc} lazyImageSrc={this.props.lazyImageSrc} />\n                            </LazyComonent>\n                        ))}\n                    </Grid.Row>\n                </Grid>\n            </Container>\n        )\n    }\n}\n\nexport const memberSection = (si: SiteConfig, language: SupportedLanguages) => {\n    const mi = si.members\n    const {getters} = si\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    const configs = {\n        title: languageGetter({\n            cn: '成员',\n            en: 'Members',\n            jp: 'メンバー'\n        }),\n        columns: 3 as SemanticColumnNum,\n        data: mi.map(m => ({\n            title: `${languageGetter(m.name)}`,\n            image: getters.memberImageGetter(m),\n            secondaryImage: getters.cvImageGetter(m),\n            color: m.encoreColor,\n            meta: m.role,\n            description: `CV:${languageGetter(mergeLanguageAttribute(m.CVName))}`,\n            link: `member/${getLast(m.name.en.split(' '))}/`,\n            isDark: selectByLuminance(m.encoreColor, false, true, true)\n        })),\n        dark: true,\n        lazyImageSrc: si.siteLogo\n    }\n    const birthdayMembers = mi.filter(makeCompareOn(x => x.birthday, sameDate()))\n    const Plugin = si.plugins.member\n\n    return (\n        <EncoreSection {...configs}>\n            {Plugin && <Plugin></Plugin>}\n            {birthdayMembers.map(bm => (\n                <div className=\"thumbnail\" key={bm.name.en}>\n                    <Card link fluid style={{backgroundColor: bm.encoreColor}}>\n                        <Image src={getters.memberImageGetter(bm)}/>\n                        <Card.Content>\n                            <Card.Header className=\"white-text\">\n                                {languageGetter(bm.name)}\n                            </Card.Header>\n                            <Card.Description className=\"white-text\">{languageGetter({\n                                cn: '生日快乐',\n                                en: 'Happy birthday',\n                                jp: 'お誕生日おめでとう'\n                            })}, {languageGetter(bm.name)}!</Card.Description>\n                        </Card.Content>\n                    </Card>\n                </div>\n            ))}\n            \n        </EncoreSection>\n    )\n}\n\nexport const singleSection = (si: SiteConfig, language: SupportedLanguages) => {\n    const ti = si.singles\n    const {getters} = si\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    const Plugin = si.plugins.single\n    const sectionProps: EncoreSectionProps = {\n        title: languageGetter({\n            cn: '单曲',\n            en: 'Single',\n            jp: 'シングル'\n        }),\n        columns: 4 as 4,\n        data: ti.map(t => ({\n            title: `${t.title}`,\n            image: getters.trackImageGetter(t),\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\n            meta: t.displayId || `${t.id}${getPositionByNum(t.id)}`,\n            link: `single/${t.displayId || positionWithNumByNum(t.id)}/`\n        })),\n        lazyImageSrc: si.siteLogo\n    }\n    return <EncoreSection {...sectionProps}>{Plugin && <LazyComonent><Plugin/></LazyComonent>}</EncoreSection>\n}\n\nexport const albumSection = (si: SiteConfig, language: SupportedLanguages) => {\n    const ti = si.albums!\n    const {getters} = si\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    return (new EncoreSection({\n        title: languageGetter({\n            cn: '专辑',\n            en: 'Album',\n            jp: 'アルバム'\n        }),\n        columns: 4,\n        data: ti.map(t => ({\n            title: `${t.title}`,\n            image: getters.trackImageGetter(t),\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\n            meta: `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} album`,\n            link: `album/${t.id}${getPositionByNum(t.id)}/`\n        })),\n        lazyImageSrc: si.siteLogo\n    })).render()\n}\n\nexport const generalSection = (gs: ExternalTrackList, si: SiteConfig, language: SupportedLanguages) => {\n    const {getters} = si\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    return <EncoreSection {...{\n        title: languageGetter(gs.displayName),\n        columns: 4,\n        data: gs.trackList.map(t => ({\n            title: `${t.title}`,\n            image: getters.trackImageGetter(t),\n            secondaryImage: t.hasLimitedEdition ? getters.limitedTrackImageGetter(t) : void 0,\n            meta: t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'} ${gs.trackType}`,\n            link: `${gs.displayName.en}/` + (t.displayId ? t.displayId : `${t.id}${['st', 'nd', 'rd'][t.id - 1] || 'th'}/`)\n        })),\n        lazyImageSrc: si.siteLogo\n    }}/>\n}\n\nexport const linkSection = (gs: ExternalLinks, language: SupportedLanguages) => (\n    <EncoreSection {...{\n        title: getLanguageAttribute({\n            cn: '相关链接',\n            en: 'Links',\n            jp: 'リンク'\n        }, language),\n        columns: 4,\n        data: [{\n            title: '+我想要友链',\n            link: 'mailto:yukina@roselia.moe',\n            image: '',\n            color: 'linear-gradient(135deg, rgb(114, 82, 201) 15%, #9CD4EA 85%)',\n            isDark: true\n        }].concat(gs.map(t => ({\n            title: t.description,\n            link: t.link,\n            image: '',\n            color: '',\n            isDark: false\n        })))\n    }}></EncoreSection>\n)\n\n\n// WEBPACK FOOTER //\n// ./src/components/section.tsx","import * as React from 'react'\nimport {Image, Placeholder} from 'semantic-ui-react'\nimport {LazyComonent} from './lazycomponent'\n\nexport interface LazyImageProps {\n    src: string,\n    lazySrc?: string,\n    [external: string]: any\n}\n\nexport class LazyImage extends React.Component<LazyImageProps, {loaded: boolean}> {\n    public constructor(props: LazyImageProps) {\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    public setLoaded = () => {\n        this.setState({\n            loaded: true\n        })\n    }\n\n    private placeHolderImage (withImage: boolean) {\n        const {src, lazySrc, ...rest} = this.props\n        return (<div>\n            {this.props.lazySrc ? (\n                <Image className=\"rhodonite-fade-out\" src={lazySrc} {...rest}></Image>\n            ) : (\n                <Placeholder>\n                    <Placeholder.Image></Placeholder.Image>\n                </Placeholder>\n            )}\n            {withImage && <Image src={src} hidden onLoad={this.setLoaded}></Image>}\n        </div>)\n    }\n    \n    private imageContent() {\n        const {src, lazySrc, ...rest} = this.props\n        return (\n            <LazyComonent placeHolder={this.placeHolderImage(false)}>\n                {this.state.loaded ? <Image className=\"rhodonite-fade-in\" src={src} {...rest}></Image>\n                : this.placeHolderImage(true)}\n            </LazyComonent>\n        )\n        // return this.state.visible ? (\n        //     this.state.loaded ? <Image src={src} {...rest}></Image>\n        //     : this.placeHolderImage(true)\n        // ) : (\n        //     <div>\n        //         <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\n        //         {this.placeHolderImage(false)}\n        //     </div>\n        // )\n\n    }\n\n    public render() {\n        return (\n            <div>\n                {this.props.src && this.imageContent()}\n            </div>\n        )\n    }\n}\n\nexport function lazyImageOf(lazySrc?: string) {\n    return ({src, ...props}: {src: string, [k: string]: any}) => <LazyImage src={src} lazySrc={lazySrc} {...props}></LazyImage>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazyimage.tsx","import * as React from 'react'\nimport {Link} from 'react-router-dom'\n\nconst linkRegex = /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/\n\n\ninterface TargetLinkProps {\n    link?: string\n    isOuterLink?: boolean,\n    [attr: string]: any\n}\n\nexport class TargetLink extends React.PureComponent<TargetLinkProps> {\n    private get isOuterLink() {\n        return !!((typeof this.props.isOuterLink === 'undefined') ? (this.props.link && linkRegex.test(this.props.link)) : this.props.isOuterLink)\n    }\n\n    public get componentType() {\n        return [Link, 'a'][+this.isOuterLink]\n    }\n\n    public get propsSlot() {\n        return ['to', 'href'][+this.isOuterLink]\n    }\n\n    public get target() {\n        return [undefined, '_blank'][+this.isOuterLink]\n    }\n\n    private get extraProps() {\n        const {link, isOuterLink, children, ...prop} = this.props\n        return prop\n    }\n\n    private renderLink() {\n        return (\n            <Link to={this.props.link!} {...this.extraProps}>{this.props.children}</Link>\n        )\n    }\n\n    private renderHref() {\n        return (\n            <a href={this.props.link!} target={this.target} {...this.extraProps}>{this.props.children}</a>\n        )\n    }\n\n    public get semanticProps() {\n        return this.props.link ? {\n            as: this.componentType,\n            [this.propsSlot]: this.props.link,\n            target: this.target\n        } : {}\n    }\n\n    public render() {\n        return this.isOuterLink ? this.renderHref() : this.renderLink()\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/smartLink.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./encore.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/encore.css\n// module id = 742\n// module chunks = 0","import * as React from 'react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport * as Helpers from '../rhodonite/protocols/helpers'\nimport {Container, Header, Segment, Grid, Divider, Label, Popup} from 'semantic-ui-react'\nimport {RouteComponentProps} from 'react-router'\nimport { getLanguageAttribute } from 'src/rhodonite/protocols/helpers'\nimport { TitledDocument } from 'src/rhodonite/component';\n// import {BannerImage} from './banner'\nimport selfish from '../rhodonite/utils/selfish'\nimport { NotFound } from './notfound';\nimport {lazyImageOf} from '../rhodonite/lazyimage'\nimport { TargetLink } from 'src/rhodonite/smartLink';\nimport { NaiveRoseliaiCal } from 'src/rhodonite/utils/naiveical';\n\nconst notFoundMember: Protocol.MemberInfo = {\n    name: {\n        cn: '你是谁',\n        jp: '誰か',\n        en: 'Who are you?'\n    },\n    CVName: {\n        en: '',\n        cn: '',\n        jp: ''\n    },\n    role: 'NotFound',\n    birthday: '',\n    horoscope: '',\n    encoreColor: '',\n}\n\ninterface MemberPageLocationParams {\n    member: string\n}\n\ninterface MemberPageProps extends RouteComponentProps<MemberPageLocationParams> {\n    language: Protocol.SupportedLanguages,\n    siteConfig: Protocol.SiteConfig,\n    currentMember: Protocol.MemberInfo\n}\n\nexport function iterAttribute(attr: Protocol.MultiLanguageAttribute | Protocol.MultiLanguageAttribute[]) {\n    if (attr instanceof Array) return attr\n    return [attr]\n}\n\nexport function optionalBoolean (f?: boolean) {\n    return typeof f === 'undefined' || f\n}\n\nexport const IndentText = ({indent, children} :{indent?: boolean, children?: any}) => <p style={{textIndent: optionalBoolean(indent) ? '2em' : 'inherit', fontSize: '1.33em'}}>{children}</p>\nexport const HiddenText = ({hidden = true, children}: {hidden?: boolean, children?: any}) => <span className={hidden ? \"heimu\" : \"\"}>{children}</span>\n\nexport class MemberPage extends React.PureComponent<MemberPageProps> {\n    private methods = selfish(this)\n    public componentWillMount () {\n        // tslint:disable-next-line:no-console\n        // console.log(this.props)\n    }\n    public componentDidMount() {\n        // tslint:disable-next-line:no-console\n        window.scroll(0, 0)\n    }\n    private getCurrentMember() {\n        return this.props.currentMember || this.props.siteConfig.members.filter(x => Helpers.getLast(x.name.en.split(' ')).toLowerCase() === this.props.match.params.member.toLowerCase())[0]\n    }\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\n        return getLanguageAttribute(ctx, this.props.language)\n    }\n    private get member () {\n        return this.getCurrentMember() || notFoundMember\n    }\n    private get memberFound () {\n        return !!this.getCurrentMember()\n    }\n    private get isInBirthday() {\n        return Helpers.dummySameDate(new Date, this.member.birthday)\n    }\n    private downloadICal = () => {\n        const ical = new NaiveRoseliaiCal()\n        ical.addMemberBirthday(this.member, this.props.language, location.href)\n        ical.dummyDownload(`${this.getContextText(this.member.name)}.ics`)\n    }\n    private memberLayout = () => {\n        const member = this.member\n        return (\n            <div>\n                <Header\n                as='h1'\n                style={{\n                    fontSize: '4em',\n                    fontWeight: 'normal',\n                    marginBottom: 0,\n                    marginTop: '3em',\n                    color: member.encoreColor\n                }}\n                >\n                    {member.role ? `${member.role}.` : ''}{this.getContextText(member.name)}\n                </Header>\n                <Header\n                as='h2'\n                style={{\n                    fontSize: '1.7em',\n                    fontWeight: 'normal',\n                    marginTop: '1.5em',\n                    color: member.encoreColor\n                }}\n                >\n                    {this.getContextText(Helpers.mergeLanguageAttribute(member.CVName))}\n                </Header>\n                {this.isInBirthday && <Label size=\"huge\" icon=\"birthday cake\" content={this.getContextText({\n                    cn: '生日快乐',\n                    en: 'Happy Birthday',\n                    jp: 'お誕生日おめでとう'\n                })}/>}\n                {member.birthday ? (<Popup trigger={\n                        <Label as=\"a\" size=\"large\" icon=\"calendar plus outline\" content={this.getContextText({\n                            en: 'Remind me when birthday',\n                            cn: '生日的时候提醒我',\n                            jp: '誕生日を知らせる'\n                        })}\n                        onClick={this.downloadICal}\n                        style={{\n                            background: member.encoreColor,\n                            color: 'white'\n                        }}></Label>\n                    } content={this.getContextText({\n                        en: 'Add to system calendar',\n                        cn: '添加到系统日历',\n                        jp: 'システムカレンダーに追加'\n                    })} />) : null}\n            </div>\n        )\n    }\n    public render() {\n        if (!this.memberFound) return <NotFound></NotFound>\n        const member = this.member\n        const IntroLayout = this.methods.introLayout\n        // const getters = this.props.siteConfig.getters\n        return (\n            <TitledDocument title={this.getContextText(member.name)}>\n                <div style={{\n                    minHeight: \"61.8vh\"\n                }}>\n                    <Container text>\n                    <div>\n                        {this.memberLayout()}\n                    </div>\n                    \n                    </Container>\n                </div>\n                \n                <IntroLayout></IntroLayout>\n            </TitledDocument>\n            \n        )\n    }\n    private introLayout () {\n        const getters = this.props.siteConfig.getters\n        const member = this.member\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\n            <div>\n                <Header as='h4' style={{ fontSize: '2em' }}>\n                    {this.getContextText(p.header)}\n                </Header>\n                <IndentText indent={p.indent}>{p.children}</IndentText>\n                {/* <IndentText>\n                    {p.children}\n                </IndentText> */}\n                <Divider hidden></Divider>\n            </div>\n            \n        ) : (<div></div>)\n        const WikiLink = (wikiName: string, generator: (s: string) => string) => ({wiki, as}: {wiki: string, as?: any}) => (\n            React.createElement(as||'p', null, <TargetLink link={generator(wiki)}>{wiki}({wikiName})</TargetLink>)\n        )\n        const MoegirlLink = WikiLink('萌娘百科', s => `https://zh.moegirl.org/${s}`)\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\n        return (\n            <Segment style={{ padding: '8em 0em' }} vertical>\n                <Grid container stackable verticalAlign='middle'>\n                    <Grid.Row>\n                    <Grid.Column width={8}>\n                        <AttrWithTitle header={{cn: \"生日\", jp:\"誕生日\", en: \"Birthday\"}}>\n                            {member.birthday}\n                        </AttrWithTitle>\n                        <AttrWithTitle when={!!member.bloodType} header={{cn: \"血型\", jp:\"血液型\", en: \"Blood Type\"}}>\n                            {member.bloodType}\n                        </AttrWithTitle>\n                        <AttrWithTitle indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\n                            <ul>\n                                <MoegirlLink as=\"li\" wiki={member.name.cn}></MoegirlLink>\n                                {iterAttribute(member.CVName).map(mlt => (\n                                <MoegirlLink as=\"li\" wiki={mlt.cn} key={mlt.en}></MoegirlLink>\n                            ))}\n                            </ul>\n                            \n                            \n                        </AttrWithTitle> \n                        <AttrWithTitle when={!!member.external} header=\"P.S.\">\n                            {member.external && member.external.map(ex => (\n                                <AttrWithTitle header={ex.title}>\n                                    {(ex.content instanceof Array) ? (\n                                        <ul>\n                                            {ex.content.map((e, idx) => (\n                                                <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\n                                            ))}\n                                        </ul>\n                            ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\n                                </AttrWithTitle>\n                            ))}\n                        </AttrWithTitle>\n                    </Grid.Column>\n                    <Grid.Column floated='right' width={8}>\n                        <LazyImage fluid bordered rounded size='massive' src={getters.memberImageGetter(member)} />\n                        <Divider hidden />\n                        <LazyImage fluid bordered rounded size='massive' src={getters.cvImageGetter(member)} />\n                    </Grid.Column>\n                    </Grid.Row>\n                    \n                </Grid>\n            </Segment>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/member.tsx","import { TrackInfo, SupportedLanguages, MemberInfo, MultiLanguageAttribute } from '../protocols/encore';\nimport * as Helpers from '../protocols/helpers'\nimport * as FileSaver from 'file-saver'\n\ninterface IRoseliaEvent {\n    summary: string\n    start: any\n    end: any\n    allDay: boolean\n    description: string\n    repeat?: {\n        frequent: \"SECONDLY\" | \"MINUTELY\" | \"HOURLY\" | \"DAILY\"  | \"WEEKLY\" | \"MONTHLY\" | \"YEARLY\"\n        interval: number\n    }\n    url?: string\n}\nexport class NaiveRoseliaiCal {\n    private beginTemplate = (body: string) => `\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Roselia.moe//Encore\nCALSCALE:GREGORIAN\n${body}\nEND:VCALENDAR\n`\n    private eventTemplate = ({summary, start, end, allDay, description, repeat, url}: IRoseliaEvent) => `\nBEGIN:VEVENT\nSUMMARY:${summary}\nDTSTART;VALUE=DATE${allDay ? '' : '-TIME'}:${start}\nDTEND;VALUE=DATE${allDay ? '' : '-TIME'}:${end}\nDTSTAMP;VALUE=DATE${allDay ? '' : '-TIME'}:${start}\nUID:${start}@encore.roselia.moe\nDESCRIPTION:${description}\n${repeat ? ('RRULE:FREQ='+repeat.frequent.toUpperCase() + ';INTERVAL=' + repeat.interval) : ''}\n${url ? ('URL;VALUE=URI:' + encodeURI(url)) : ''}\nEND:VEVENT\n`\n    private events: IRoseliaEvent[] = []\n    public makeCalendar(events: IRoseliaEvent[]) {\n        return this.beginTemplate(events.map(this.eventTemplate).join('\\n'))\n    }\n\n    public formatDate = (d: Date) => d.toISOString().split('T')[0].replace(/-/g, '')\n\n    public formatDateFromString = (d: string | Date, delta: number = 0) => {\n        try {\n            const date = new Date(d)\n            date.setMinutes(date.getMinutes() - date.getTimezoneOffset())\n            return this.formatDate(new Date(date.getTime() + delta * 24*60*60*1000))\n        } catch {\n            if(typeof d !== 'string') return this.formatDate(d) \n            return d.replace(/-/g, '').replace(/\\//g, '')\n        }\n    }\n\n    public toString() {\n        return this.makeCalendar(this.events).replace('\\n\\n', '\\n').trim()\n    }\n\n    private addEvent(event: IRoseliaEvent | IRoseliaEvent[]) {\n        if (event instanceof Array) {\n            event.forEach(ev => this.addEvent(ev))\n        } else {\n            this.events.push(event)\n        }\n    }\n\n    public addTrackRelease(track: TrackInfo, language: SupportedLanguages, url?: string) {\n        this.addEvent({\n            summary: track.title,\n            start: this.formatDateFromString(track.releaseDate),\n            end: this.formatDateFromString(track.releaseDate, 1),\n            allDay: true,\n            description: `${track.displayId || (track.id + Helpers.getPositionByNum(track.id))} ${track.type}: ${track.title} ${Helpers.getLanguageAttribute(\n                {\n                    jp: '発売',\n                    cn: '发售',\n                    en: 'released'\n                }, language\n            )}!`,\n            url\n        })\n    }\n\n    public addMemberBirthday(member: MemberInfo, language: SupportedLanguages, url: string) {\n        const getLanguage = (mlt: MultiLanguageAttribute | MultiLanguageAttribute[]) => Helpers.getLanguageAttribute(Helpers.getLastLanguageAttribute(mlt), language)\n        const [month, date] = member.birthday.split(/(?:-|\\/)/)\n        const dt = new Date\n        dt.setMonth(parseInt(month, 10) - 1)\n        dt.setDate(parseInt(date, 10))\n        this.addEvent({\n            summary: getLanguage(member.name) + getLanguage({\n                cn: '的生日',\n                en: \"'s birthday\",\n                jp: 'のお誕生日'\n            }),\n            start: this.formatDateFromString(dt),\n            end: this.formatDateFromString(dt, 1),\n            allDay: true,\n            description: `${member.role}.${getLanguage(member.name)}. CV: ${getLanguage(member.CVName)}`,\n            repeat: {\n                frequent: 'YEARLY',\n                interval: 1\n            },\n            url\n        })\n    }\n\n    public getBlob () {\n        return new Blob([this.toString()], {\n            type: 'text/calendar'\n        })\n    }\n\n    public async getBlobAsync () {\n        return this.getBlob()\n    }\n\n    public async getBlobUrl() {\n        const blob = await this.getBlobAsync()\n        return URL.createObjectURL(blob);\n    }\n\n    public releaseBlobUrl(url: string) {\n        URL.revokeObjectURL(url);\n    }\n\n    public async downloadCalendar(fileName: string) {\n        const blob = await this.getBlobAsync()\n        FileSaver.saveAs(blob, fileName)\n    }\n\n    public async dummyDownload(fileName: string) {\n        const href = await this.getBlobUrl()\n        const link = document.createElement('a')\n        link.download = fileName\n        link.href = href\n        link.click()\n        setTimeout(() => this.releaseBlobUrl(href), 4e4)\n        // this.downloadCalendar(fileName)\n    }\n\n    public getDataURLAsync (): Promise<string> {\n        return new Promise(r => {\n            const fr = new FileReader\n            fr.addEventListener('load', () => r(fr.result as string))\n            fr.readAsDataURL(this.getBlob())\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/utils/naiveical.ts","import * as React from 'react'\nimport './encore.css'\n// import {Image} from 'semantic-ui-react'\nimport {BannerImageConfig} from '../rhodonite/protocols/encore'\n\nexport class BannerImage extends React.Component<BannerImageConfig> {\n    get gradient () {\n        if (typeof this.props.gradient === 'undefined') return \"linear-gradient(45deg, rgba(20, 9, 49, 0.7) 0%, rgba(23, 0, 35, 0.68) 16%, rgba(1, 63, 145, 0.6) 78%, rgba(1, 64, 147, 0.57) 79%, rgba(1, 64, 147, 0.19) 93%, rgba(114, 197, 241, 0) 100%)\"\n        return this.props.gradient\n    }\n    private fillHeight: React.CSSProperties = {\n        height: '100vh',\n        width: '100%',\n    }\n    private get backGroundStyle(): React.CSSProperties {\n        return {\n            ...this.fillHeight,\n            backgroundImage: this.gradient ? `${this.gradient}, url('${this.props.background}')` : `url('${this.props.background}')`,\n            backgroundSize: 'cover',\n            ...(this.props.foreground ? {\n                filter: 'blur(25px) saturate(120%)',\n                animation: 'blur-clear 1s ease-in-out',\n                animationDelay: '1s',\n                animationFillMode: 'backwards',\n            } : {}),\n            \n            position: 'absolute',\n            zIndex: 1\n        }\n    }\n    private bannerImageStyle: React.CSSProperties = {\n        ...this.fillHeight,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-end',\n        position: 'absolute',\n        zIndex: 2\n    }\n\n    private imageStyle: React.CSSProperties = {\n        width: '61.8vw',\n        filter: 'contrast(130%)',\n        animation: 'blur-clear 1s ease-in-out reverse',\n        animationDelay: '2s',\n        animationFillMode: 'backwards'\n    }\n\n    public render() {\n        return (\n            <div>\n                <div className=\"hidden-xs banner\" style={{height: '108vh'}}>\n                    <div style={this.backGroundStyle}></div>\n                    \n                    <div style={this.bannerImageStyle}>\n                        <div style={{height: 'inherit'}}>{this.props.children}</div>\n                        {this.props.foreground &&<img src={this.props.foreground} style={this.imageStyle}></img>}\n                    </div>\n                    \n                </div>\n                {/* <div className=\"visible-xs\">\n                    <Image src=\"img/logo.png\"></Image>\n                </div> */}\n            </div>\n            \n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/banner.tsx","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".visible-xs{display:none!important}@media (max-width:767px){.hidden-xs{display:none!important}.visible-xs{display:block!important}}@-webkit-keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}@keyframes blur-clear{0%{-webkit-filter:blur(0) saturate(100%);filter:blur(0) saturate(100%)}to{-webkit-filter:blur(25px) saturate(120%);filter:blur(25px) saturate(120%)}}.part{-webkit-box-shadow:11px 7px 15px rgba(0,0,0,.2);box-shadow:11px 7px 15px rgba(0,0,0,.2);padding:25px 20px 5px;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s}.part,.part:hover{border-radius:15px 15px 15px 15px;background-color:#fff;margin-bottom:25px}.part:hover{-webkit-transition:padding .25s;-o-transition:padding .25s;transition:padding .25s;-webkit-transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s,-webkit-box-shadow .25s;-o-transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s;transition:box-shadow .25s,box-shadow .25s,-webkit-box-shadow .25s,-webkit-box-shadow .25s;-webkit-box-shadow:20px 20px 17px 0 rgba(0,0,0,.2);box-shadow:20px 20px 17px 0 rgba(0,0,0,.2)}.thumbnail{display:block;padding:4px;margin-bottom:20px;line-height:1.42857143}.thumbnail>img,.thumbnail a>img{margin-right:auto;margin-left:auto}.member{margin-top:-30px}.white-text{color:#fff!important}\", \"\", {\"version\":3,\"sources\":[\"/Users/mohuetykirisame/Documents/GitHub/roselia-encore-react/src/components/encore.css\"],\"names\":[],\"mappings\":\"AAAA,YACI,sBAAyB,CAC5B,AACD,yBACI,WACE,sBAAyB,CAC1B,AACD,YACI,uBAA0B,CAC7B,CACJ,AAED,8BACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,sBACI,GAAO,sCAAyC,AAAC,6BAAiC,CAAE,AACpF,GAAK,yCAA0C,AAAC,gCAAkC,CAAE,CACvF,AAED,MAGI,gDAAoD,AAC5C,wCAA4C,AACpD,sBAA4B,AAE5B,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,0FAA+F,CAClG,AACD,kBAZI,kCAAmC,AACnC,sBAAqC,AAIrC,kBAAoB,CAqBvB,AAdD,YACI,gCAAiC,AACjC,2BAA4B,AAC5B,wBAAyB,AACzB,mEAAqE,AACrE,2DAA6D,AAC7D,8CAAgD,AAChD,2CAA6C,AAC7C,2FAA+F,AAG/F,mDAAyD,AACjD,0CAAiD,CAE5D,AAED,WACI,cAAe,AACf,YAAa,AACb,mBAAoB,AACpB,sBAAwB,CAC3B,AAED,gCAEI,kBAAmB,AACnB,gBAAkB,CACrB,AAED,QACI,gBAAkB,CACrB,AAED,YACI,oBAAuB,CAC1B\",\"file\":\"encore.css\",\"sourcesContent\":[\".visible-xs {\\n    display: none !important;\\n}\\n@media (max-width: 767px) {\\n    .hidden-xs {\\n      display: none !important;\\n    }\\n    .visible-xs {\\n        display: block !important;\\n    }\\n}\\n\\n@-webkit-keyframes blur-clear {\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\n}\\n\\n@keyframes blur-clear {\\n    from { -webkit-filter: blur(0px) saturate(100%); filter: blur(0px) saturate(100%); }\\n    to { -webkit-filter: blur(25px) saturate(120%); filter: blur(25px) saturate(120%); }\\n}\\n\\n.part {\\n    border-radius: 15px 15px 15px 15px;\\n    background-color: rgb(255, 255, 255);\\n    -webkit-box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\n            box-shadow: 11px 7px 15px rgba(0, 0, 0, .2);\\n    padding: 25px 20px 5px 20px;\\n    margin-bottom: 25px;\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\n    transition: box-shadow .25s, box-shadow .25s;\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n}\\n.part:hover {\\n    -webkit-transition: padding .25s;\\n    -o-transition: padding .25s;\\n    transition: padding .25s;\\n    -webkit-transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n    transition: -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n    -o-transition: box-shadow .25s, box-shadow .25s;\\n    transition: box-shadow .25s, box-shadow .25s;\\n    transition: box-shadow .25s, box-shadow .25s, -webkit-box-shadow .25s, -webkit-box-shadow .25s;\\n    border-radius: 15px 15px 15px 15px;\\n    background-color: rgb(255, 255, 255);\\n    -webkit-box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\n            box-shadow: 20px 20px 17px 0px rgba(0, 0, 0, .2);\\n    margin-bottom: 25px;\\n}\\n\\n.thumbnail {\\n    display: block;\\n    padding: 4px;\\n    margin-bottom: 20px;\\n    line-height: 1.42857143;\\n}\\n\\n.thumbnail > img,\\n.thumbnail a > img {\\n    margin-right: auto;\\n    margin-left: auto;\\n}\\n\\n.member {\\n    margin-top: -30px;\\n}\\n\\n.white-text {\\n    color: #fff !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/encore.css\n// module id = 746\n// module chunks = 0","export const getLuminance = (red: number, green: number, blue: number) => (\n    red * 299 + green * 587 + blue * 114\n) / 1000\n\nconst splitRGB = (color: string) => color.match(/\\d+/g)!.map(n => parseInt(n, 10))\n\nexport const isBright = (color: string) => {\n    if (! color) return \n    const lowerColor = color.toLowerCase()\n    let luminance: number\n    if (lowerColor.startsWith('rgb')) {\n        const rgb = splitRGB(lowerColor)\n        luminance = getLuminance(rgb[0], rgb[1], rgb[2])\n    } else {\n        let hexColor = lowerColor.substring(1)\n        if (hexColor.length === 3) hexColor = hexColor.split('').map(s => s + s).join('')\n        if (hexColor.length !== 6) return undefined\n        const rgb = hexColor.replace(/(..)(?=.)/g, \"$1-\").split('-').map(s => parseInt(s, 16))\n        luminance = getLuminance(rgb[0], rgb[1], rgb[2])\n    }\n    return luminance >= 128\n}\n\nexport function selectByLuminance<T>(color: string, onBright: T, onDark: T, defaultValue: T) {\n    const result = isBright(color)\n    if (typeof result === 'undefined') return defaultValue\n    return result ? onBright : onDark\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/utils/colorUtils.ts","import * as React from 'react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport * as Helpers from '../rhodonite/protocols/helpers'\nimport {RouteComponentProps} from 'react-router'\nimport {HiddenText, IndentText, optionalBoolean} from './member'\nimport {Header, Container, Segment, Divider, Grid, Label, Popup} from 'semantic-ui-react'\nimport { NotFound } from './notfound';\nimport { TitledDocument } from 'src/rhodonite/component';\nimport {lazyImageOf} from '../rhodonite/lazyimage'\nimport { TargetLink } from 'src/rhodonite/smartLink';\nimport { NaiveRoseliaiCal } from 'src/rhodonite/utils/naiveical';\n// import {cached} from '../rhodonite/utils/property'\n\ninterface TrackLocationProps {\n    trackType: Protocol.TrackType\n    trackId: string\n}\ninterface TrackPageProps extends RouteComponentProps<TrackLocationProps> {\n    language: Protocol.SupportedLanguages\n    siteConfig: Protocol.SiteConfig\n}\n\nconst {getPositionByNum} = Helpers\n\nabstract class TrackPage extends React.Component<TrackPageProps> {\n    private cachedTrack: Protocol.TrackInfo | undefined = undefined\n    protected abstract getCurrentTrack (): Protocol.TrackInfo | undefined\n    public componentDidMount () {\n        window.scrollTo(0, 0)\n    }\n\n    // @cached\n    protected findIn (ls: Protocol.TrackInfo[]) {\n        const matchByDisplayid = ls.find(x => x.displayId === this.props.match.params.trackId)\n        if (matchByDisplayid){\n            return matchByDisplayid\n        }\n        const regex = /(\\d+)(\\w+)/\n        const matchRes = regex.exec(this.props.match.params.trackId)\n        if (matchRes) {\n            const [_, idx, pos] = matchRes\n            const intIdx = parseInt(idx, 10)\n            if (getPositionByNum(intIdx) === pos.toLowerCase()) return ls.find(x => x.id === intIdx)\n        }\n        return void 0\n    }\n\n    private get track () {\n        if (this.cachedTrack) return this.cachedTrack\n        return this.cachedTrack = this.getCurrentTrack()!\n    }\n    private hasValidTrack () {\n        return !!this.track\n    }\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\n        return Helpers.getLanguageAttribute(ctx, this.props.language)\n    }\n\n    private get calendarIconClass() {\n        const released = this.trackReleaseState\n        if (typeof released === 'undefined') return 'calendar outline'\n        if (released > 0) return 'calendar check outline'\n        if (released < 0) return 'calendar plus outline'\n        return 'calendar alternate outline'\n    }\n\n    private get trackReleaseState() {\n        try {\n            const date = new Date(this.track.releaseDate)\n            const today = new Date\n            if (Helpers.sameDate(today, true)(date)) return 0\n            if (date > today) return -1\n            return 1\n        } catch {\n            return undefined\n        }\n    }\n\n    private downloadICal = () => {\n        const rCal = new NaiveRoseliaiCal()\n        rCal.addTrackRelease(this.track, this.props.language, location.href)\n        rCal.dummyDownload(`${this.track.title}.ics`)\n    }\n\n    private get localReleaseDate () {\n        try {\n            return (new Date(this.track.releaseDate)).toLocaleDateString()\n        } catch {\n            return this.track.releaseDate\n        }\n    }\n    \n    private introLayout () {\n        const track = this.track\n        return (\n            <div>\n                <Header\n                as='h1'\n                style={{\n                    fontSize: '4em',\n                    fontWeight: 'normal',\n                    marginBottom: 0,\n                    marginTop: '3em'\n                }}\n                >\n                    {track.title}\n                </Header>\n                <Header\n                as='h2'\n                style={{\n                    fontSize: '1.7em',\n                    fontWeight: 'normal',\n                    marginTop: '1.5em'\n                }}\n                >\n                    {track.displayId ? track.displayId : `${track.id}${getPositionByNum(track.id)} ${Helpers.capatialize(track.type||'')}`}\n                </Header>\n                {track.releaseDate ? ((this.trackReleaseState && this.trackReleaseState < 0) ? (\n                    <Popup trigger={\n                        <Label as=\"a\" color=\"violet\" size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}\n                        onClick={this.downloadICal} ></Label>\n                    } content={this.getContextText({\n                        en: 'Add to system calendar',\n                        cn: '添加到系统日历',\n                        jp: 'システムカレンダーに追加'\n                    })} />\n                ) : <Label color=\"green\" size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}></Label>) : null}\n                {/* {JSON.stringify(this.props.match)} */}\n            </div>\n        )\n    }\n    private infoLayout () {\n        const getters = this.props.siteConfig.getters\n        const track = this.track\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\n            <div>\n                <Header as='h4' style={{ fontSize: '2em' }}>\n                    {this.getContextText(p.header)}\n                </Header>\n                <IndentText indent={p.indent}>{p.children}</IndentText>\n                {/* <IndentText>\n                    {p.children}\n                </IndentText> */}\n                <Divider hidden></Divider>\n            </div>\n            \n        ) : (<div></div>)\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\n        \n        return (\n            <Segment style={{ padding: '8em 0em' }} vertical>\n                <Grid container stackable verticalAlign='middle'>\n                    <Grid.Row>\n                    <Grid.Column width={8}>\n                        <AttrWithTitle indent={false} header={{cn: \"音轨\", jp:\"収録内容\", en:\"Track\"}}>\n                            <ol>\n                                {track.track.map((s, i) => (\n                                    <li key={i}>{s}</li>\n                                ))}\n                            </ol>\n                        </AttrWithTitle>\n                        <AttrWithTitle when={!!track.links} indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\n                            <ul>\n                                {track.links && track.links.map((l, i) => (\n                                    <li key={i}>\n                                        <TargetLink link={l.link}>{l.description}</TargetLink>\n                                    </li>\n                                ))}\n                            </ul>\n                            \n                            \n                        </AttrWithTitle> \n                        {track.external && track.external.map(ex => (\n                            <AttrWithTitle key={ex.title} header={ex.title}>\n                                {(ex.content instanceof Array) ? (\n                                    <ul>\n                                        {ex.content.map((e, idx) => (\n                                            <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\n                                        ))}\n                                    </ul>\n                        ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\n                            </AttrWithTitle>\n                        ))}\n                    </Grid.Column>\n                    <Grid.Column floated='right' width={8}>\n                        <LazyImage fluid bordered rounded size='massive' src={getters.trackImageGetter(track)} />\n                        <Divider hidden />\n                        {track.hasLimitedEdition && (\n                        <LazyImage fluid bordered rounded size='massive' src={getters.limitedTrackImageGetter(track)} />)}\n                    </Grid.Column>\n                    </Grid.Row>\n                    \n                </Grid>\n            </Segment>\n        )\n    }\n    public render() {\n        const track = this.track\n        if (!this.hasValidTrack()) {\n            return <NotFound></NotFound>\n        }\n        return (\n            <TitledDocument title={track.title}>\n                <div style={{\n                    minHeight: \"61.8vh\"\n                }}>\n                    <Container text>\n                    <div>\n                        {this.introLayout()}\n                    </div>\n                    \n                    </Container>\n                </div>\n                {this.infoLayout()}\n                {/* <IntroLayout></IntroLayout> */}\n            </TitledDocument>\n        )\n    }\n}\n\nexport class SingleTrackPage extends TrackPage {\n    protected getCurrentTrack () {\n        return this.findIn(this.props.siteConfig.singles)\n    }\n}\n\nexport class AlbumTrackPage extends TrackPage {\n    protected getCurrentTrack() {\n        return this.findIn(this.props.siteConfig.albums!)\n    }\n}\n\nexport function customTrackPage(tp: Protocol.ExternalTrackList) {\n    return class extends TrackPage {\n        protected getCurrentTrack () {\n            return this.findIn(tp.trackList)\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/track.tsx","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Depricated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}};f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/dist/FileSaver.min.js\n// module id = 749\n// module chunks = 0","import * as React from 'react'\nimport {Modal, Grid, Header, Divider} from 'semantic-ui-react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport {/*RouteComponentProps,*/ Route} from 'react-router'\nimport {EncoreSection, EncoreSectionProps, EncoreCard} from './section'\n\nexport interface RouterParams {\n    recommandId: string\n}\n\ninterface VideoSectionProps {\n    siteConfig: Protocol.SiteConfig\n    videos: Protocol.RecommandVideoAdapter[]\n    indexPage: string\n}\n\nexport interface VideoModalProps /*extends RouteComponentProps<RouterParams>*/ {\n    visible: boolean\n    videoLib: Protocol.RecommandVideoAdapter[]\n    forceVideo?: Protocol.RecommandVideoAdapter\n    onClose?: () => void\n}\n\ninterface VideoSectionState {\n    isVisible: boolean\n    currentVideo?: Protocol.RecommandVideoAdapter\n}\n\nclass VideoModal extends React.Component<VideoModalProps> {\n    \n    private getVideoAdapter(): Protocol.RecommandVideoAdapter | undefined {\n        const props = this.props\n        if(props.forceVideo) return props.forceVideo\n        return undefined\n        // const idx = parseInt(props.match.params.recommandId, 10)\n        // if (isNaN(idx)) return undefined\n        // return props.videoLib[idx]\n    }\n    private get videoAdapter() {\n        return this.getVideoAdapter()!\n    }\n\n    private renderModal() {\n        const adapter = this.videoAdapter\n        const video = adapter && adapter.videos\n        if (!video) return null\n        const videos = video.videos\n        return (\n            <Modal dimmer=\"blurring\" open={this.props.visible} onClose={this.props.onClose}>\n                <Modal.Header>{video.name}</Modal.Header>\n                <Modal.Content>\n                    {video.authors.length === 1 && \n                    (<div>\n                        <Modal.Description>\n                            <Header>{video.authors[0]}</Header>\n                        </Modal.Description>\n                        <Divider/>\n                    </div>)\n                    }\n                    <Grid stackable>\n                        <Grid.Row columns={4}>\n                            {videos.map(v => (\n                                <EncoreCard key={v.title} {...{\n                                    title: v.title,\n                                    image: v.coverImage,\n                                    link: adapter.getLink(v.aid),\n                                    meta: video.authors.length === 1 ? undefined : v.author\n                                }}></EncoreCard>\n                            ))}\n                        </Grid.Row>\n                    </Grid>\n                    \n                </Modal.Content>\n            </Modal>\n        )\n    }\n    public render() {\n        return this.renderModal()\n    }\n}\n\nexport class VideoSection extends React.Component<VideoSectionProps, VideoSectionState> {\n    public constructor(props: VideoSectionProps) {\n        super(props)\n        this.state = {\n            isVisible: false,\n            currentVideo: undefined\n        }\n    }\n\n    private section = () => {\n        const sectionProps: EncoreSectionProps = {\n            title: '更多资源……',\n            columns: 4,\n            data: (this.props.videos).map(v => {\n                const video = v.videos!\n                return ({\n                    title: video.name,\n                    image: video.videos![0].coverImage,\n                    meta: video.authors.length === 1 ? video.authors[0] : undefined,\n                    link: video.videos.length === 1 ? video.getLink(video.videos[0].aid) : undefined,\n                    onClick: () => {\n                        this.setState({\n                            currentVideo: v,\n                            isVisible: true\n                        })\n                    }\n                })\n            })\n        }\n        return <EncoreSection {...sectionProps}></EncoreSection>\n    }\n\n    public closeModal = () => this.setState({\n        isVisible: false\n    })\n\n    // public renderModal = (props: RouteComponentProps<RouterParams>) => (\n    //     <VideoModal videoLib={this.props.videos} visible={true} {...props}></VideoModal>\n    // )\n\n    public render() {\n        return (<div>\n            <Route path={this.props.indexPage} render={this.section}></Route>\n            <VideoModal videoLib={this.props.videos} visible={this.state.isVisible} forceVideo={this.state.currentVideo} onClose={this.closeModal}></VideoModal>\n            {/* <Route path={this.props.indexPage + '/recommand/:recommandId/'} render={this.renderModal}></Route> */}\n        </div>)\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/video.tsx","import * as React from 'react'\nimport {EncoreSection, EncoreSectionProps} from './section'\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig} from '../rhodonite/protocols/encore'\nimport {getLanguageAttribute} from '../rhodonite/protocols/helpers'\n\nexport const bangumiSection = (si: SiteConfig, language: SupportedLanguages) => {\n    const ti = si.bangumiList!\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    const sectionProps: EncoreSectionProps = {\n        title: languageGetter({\n            cn: '番剧',\n            en: 'Anime',\n            jp: 'アニメ番組'\n        }),\n        columns: 4 as 4,\n        data: ti.map(t => ({\n            title: `${t.name}`,\n            image: t.coverImage,\n            meta: t.meta,\n            link: t.link\n        })),\n        lazyImageSrc: si.siteLogo\n    }\n    return <EncoreSection {...sectionProps}></EncoreSection>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/bangumi.tsx"],"sourceRoot":""}