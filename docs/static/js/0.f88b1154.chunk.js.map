{"version":3,"sources":["components/index.tsx","components/member.tsx","rhodonite/utils/naiveical.ts","components/banner.tsx","components/track.tsx","../node_modules/file-saver/dist/FileSaver.min.js","components/video.tsx","components/bangumi.tsx"],"names":["Index","_super","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","defineProperty","prototype","siteConfig","this","props","language","renderComponent","RenderComponent","eternal","_this","__WEBPACK_IMPORTED_MODULE_1_react__","strictProps","componentDidMount","document","title","index","site","className","__WEBPACK_IMPORTED_MODULE_2__components_banner__","bannerImage","style","textAlign","__WEBPACK_IMPORTED_MODULE_4_semantic_ui_react__","centered","src","siteLogo","logoSpin","Group","__WEBPACK_IMPORTED_MODULE_5_react_router_dom__","to","color","configName","undefined","Or","__WEBPACK_IMPORTED_MODULE_13__rhodonite_lazycomponent__","__WEBPACK_IMPORTED_MODULE_3__components_section__","albums","externalTrackLists","map","et","bangumiList","__WEBPACK_IMPORTED_MODULE_12__bangumi__","videos","__WEBPACK_IMPORTED_MODULE_11__video__","indexPage","match","path","externalLinks","render","StatedRoute","_a","component","rest","__WEBPACK_IMPORTED_MODULE_8__rhodonite_component__","AsyncMemberPage","__WEBPACK_IMPORTED_MODULE_7__rhodonite_asynccomponent__","Promise","resolve","then","__webpack_require__","bind","p","MemberPage","parentPath","__WEBPACK_IMPORTED_MODULE_6_react_router__","exact","__WEBPACK_IMPORTED_MODULE_10__track__","etl","displayName","en","__WEBPACK_IMPORTED_MODULE_9__notfound__","notFoundMember","name","cn","jp","CVName","role","birthday","horoscope","encoreColor","iterAttribute","attr","Array","optionalBoolean","f","IndentText","indent","children","textIndent","fontSize","HiddenText","_b","hidden","apply","arguments","methods","__WEBPACK_IMPORTED_MODULE_6__rhodonite_utils_selfish__","downloadICal","ical","__WEBPACK_IMPORTED_MODULE_10_src_rhodonite_utils_naiveical__","addMemberBirthday","member","location","href","dummyDownload","getContextText","memberLayout","__WEBPACK_IMPORTED_MODULE_3_semantic_ui_react__","as","fontWeight","marginBottom","marginTop","__WEBPACK_IMPORTED_MODULE_2__rhodonite_protocols_helpers__","isInBirthday","size","icon","content","trigger","onClick","background","topExtension","componentWillMount","window","scroll","getCurrentMember","currentMember","members","filter","x","split","toLowerCase","params","ctx","__WEBPACK_IMPORTED_MODULE_4_src_rhodonite_protocols_helpers__","Date","memberFound","__WEBPACK_IMPORTED_MODULE_7__notfound__","IntroLayout","introLayout","__WEBPACK_IMPORTED_MODULE_5_src_rhodonite_component__","minHeight","text","getters","AttrWithTitle","when","header","MoegirlLink","wikiName","generator","wiki","__WEBPACK_IMPORTED_MODULE_9_src_rhodonite_smartLink__","link","WikiLink","s","LazyImage","__WEBPACK_IMPORTED_MODULE_8__rhodonite_lazyimage__","padding","vertical","container","stackable","verticalAlign","Row","Column","width","bloodType","mlt","key","external","ex","e","idx","leftExtension","floated","fluid","bordered","rounded","memberImageGetter","cvImageGetter","NaiveRoseliaiCal","beginTemplate","body","eventTemplate","summary","start","end","allDay","description","repeat","url","frequent","toUpperCase","interval","encodeURI","events","formatDate","d","toISOString","replace","formatDateFromString","delta","date","setMinutes","getMinutes","getTimezoneOffset","getTime","makeCalendar","join","toString","trim","addEvent","event","forEach","ev","push","addTrackRelease","track","releaseDate","displayId","id","__WEBPACK_IMPORTED_MODULE_1__protocols_helpers__","type","getLanguage","month","dt","setMonth","parseInt","setDate","getBlob","Blob","getBlobAsync","getBlobUrl","blob","sent","URL","createObjectURL","releaseBlobUrl","revokeObjectURL","downloadCalendar","fileName","__WEBPACK_IMPORTED_MODULE_2_file_saver__","createElement","download","click","setTimeout","getDataURLAsync","r","fr","FileReader","addEventListener","result","readAsDataURL","BannerImage","fillHeight","height","bannerImageStyle","display","justifyContent","alignItems","position","zIndex","imageStyle","animation","animationDelay","animationFillMode","gradient","backgroundImage","backgroundSize","foreground","backGroundStyle","tp","class_1","getCurrentTrack","findIn","trackList","TrackPage","getPositionByNum","cachedTrack","rCal","__WEBPACK_IMPORTED_MODULE_9_src_rhodonite_utils_naiveical__","scrollTo","ls","matchByDisplayid","find","trackId","matchRes","exec","pos","intIdx_1","hasValidTrack","released","trackReleaseState","today","toLocaleDateString","calendarIconClass","localReleaseDate","infoLayout","__WEBPACK_IMPORTED_MODULE_3__member__","__WEBPACK_IMPORTED_MODULE_7__rhodonite_lazyimage__","i","links","l","__WEBPACK_IMPORTED_MODULE_8_src_rhodonite_smartLink__","trackImageGetter","hasLimitedEdition","limitedTrackImageGetter","rightExtension","__WEBPACK_IMPORTED_MODULE_6_src_rhodonite_component__","__WEBPACK_IMPORTED_MODULE_5__notfound__","SingleTrackPage","singles","AlbumTrackPage","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","a","b","exports","module","c","XMLHttpRequest","open","responseType","onload","response","onerror","console","error","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","self","saveAs","HTMLAnchorElement","g","h","webkitURL","j","rel","origin","target","navigator","msSaveOrOpenBlob","autoBom","warn","test","innerText","HTMLElement","safari","userAgent","onloadend","k","VideoModal","getVideoAdapter","forceVideo","renderModal","adapter","videoAdapter","video","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","dimmer","visible","onClose","Header","Content","authors","length","Description","columns","v","__WEBPACK_IMPORTED_MODULE_4__section__","image","coverImage","getLink","aid","meta","author","VideoSection","call","section","sectionProps","data","setState","currentVideo","isVisible","closeModal","state","__WEBPACK_IMPORTED_MODULE_3_react_router__","videoLib","bangumiSection","si","ti","ml","__WEBPACK_IMPORTED_MODULE_3__rhodonite_protocols_helpers__","languageGetter","t","lazyImageSrc","__WEBPACK_IMPORTED_MODULE_2__section__"],"mappings":"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","file":"static/js/0.f88b1154.chunk.js","sourcesContent":["import * as React from 'react'\n\n// import starlight from '../encoreInfo/starlight'\n// import roselia from '../encoreInfo/roselia'\n\nimport {BannerImage} from '../components/banner'\nimport {memberSection, singleSection, albumSection, generalSection, linkSection} from '../components/section'\nimport { SiteConfig, SupportedLanguages } from 'src/rhodonite/protocols/encore';\nimport { Image, Button } from 'semantic-ui-react'\nimport {Link} from 'react-router-dom'\nimport {Route, Switch} from 'react-router'\nimport {asyncComponent} from '../rhodonite/asynccomponent'\nimport {ScrollToTopRouter} from '../rhodonite/component'\nimport {RouteComponentProps} from 'react-router'\nimport { NotFound } from './notfound';\nimport { SingleTrackPage, AlbumTrackPage, customTrackPage } from './track'\nimport {VideoSection} from './video'\nimport {bangumiSection} from './bangumi'\nimport {LazyComonent} from '../rhodonite/lazycomponent'\n\ninterface IndexProps extends RouteComponentProps<{}> {\n    siteConfig: SiteConfig\n    language: SupportedLanguages\n}\n\nexport class Index extends React.Component<IndexProps, {}> {\n\n    /*private setEncore (obj: SiteConfig) {\n        return () => this.setState({\n            siteConfig: obj\n        })\n    }*/\n    private get strictProps () {\n        return {\n            siteConfig: this.props.siteConfig,\n            language: this.props.language\n        }\n    }\n    private renderComponent(RenderComponent: React.ComponentType<any>, eternal: any) {\n        return (props: object) => {\n            return (<RenderComponent {...props} {...this.strictProps} {...eternal}></RenderComponent>)\n        }\n    }\n\n    public componentDidMount() {\n        document.title = this.props.siteConfig.title\n    }\n\n    private index() {\n        const site = this.props.siteConfig\n        return (\n            <div className=\"App\">\n                <BannerImage {...site.bannerImage}></BannerImage>\n                <header className=\"App-header\" style={{textAlign: 'center'}}>\n                    <Image centered src={site.siteLogo} className={site.logoSpin ? \"App-logo\" : \"\"} />\n                    {/* <img src={logo} className=\"App-logo\"></img> */}\n                    <h1 className=\"App-title\">{site.title}</h1>\n                    {/* <p>Current config: {site.configName}</p> */}\n                    <p className=\"App-intro\">\n                    <p>Made with love by Somainer</p>\n                    </p>\n                    <p>为了演示可扩展性，目前这里有三个预制配置，阁下（DD）想要看哪一个？</p>\n                    <Button.Group>\n                    <Link to=\"/\"><Button color={site.configName === 'roselia' ? 'violet' : undefined}>Roselia</Button></Link>\n                    <Button.Or />\n                    <Link to=\"/starlight/\"><Button color={site.configName === 'starlight' ? 'black' : undefined}>Revue Starlight</Button></Link>\n                        <Button.Or />\n                        <Link to=\"/raise-a-suilen/\"><Button color={site.configName === 'suilen' ? 'purple' : undefined}> Raise a Suilen </Button></Link>\n                    </Button.Group>\n                </header>\n                <LazyComonent>\n                    {memberSection(site, this.props.language)}\n                </LazyComonent>\n                <LazyComonent>\n                    {singleSection(site, this.props.language)}\n                    {site.albums && albumSection(site, this.props.language)}\n                    {site.externalTrackLists && site.externalTrackLists.map(et => generalSection(et, site, this.props.language))}\n                </LazyComonent>\n                <LazyComonent>\n                    {site.bangumiList && bangumiSection(site, this.props.language)}\n                    {site.videos ? <VideoSection siteConfig={site} videos={site.videos} indexPage={this.props.match.path}></VideoSection> : null}\n                </LazyComonent>\n                {site.externalLinks && (\n                    <LazyComonent>\n                        {linkSection(site.externalLinks, this.props.language)}\n                    </LazyComonent>\n                )}\n            </div>\n        )\n    }\n\n    public render () {\n        const StatedRoute = ({component, ...rest}: {component: React.ComponentType, [att: string]: any}) => (\n            <ScrollToTopRouter {...rest} render={this.renderComponent(component, rest.eternal)}></ScrollToTopRouter>\n          )\n        const AsyncMemberPage = asyncComponent(() => import('../components/member').then(p => p.MemberPage))\n        const parentPath = this.props.match.path\n        return (<div>\n            <Switch>\n                <Route exact path={parentPath}>{this.index()}</Route>\n                {/* <Route path=\"member/:member\"></Route> */}\n                <StatedRoute path={parentPath + \"member/:member/\"} component={AsyncMemberPage}></StatedRoute>\n                <StatedRoute path={parentPath + \"single/:trackId/\"} component={SingleTrackPage}></StatedRoute>\n                {this.props.siteConfig.albums && (\n                    <StatedRoute path={parentPath + \"album/:trackId/\"} component={AlbumTrackPage}></StatedRoute>\n                )}\n                {this.props.siteConfig.externalTrackLists && this.props.siteConfig.externalTrackLists.map(etl => (\n                    <StatedRoute path={parentPath + `${etl.displayName.en}/:trackId/`} component={customTrackPage(etl)}></StatedRoute>\n                ))}\n                <Route component={NotFound}></Route>\n            </Switch>\n            \n        </div>)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.tsx","import * as React from 'react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport * as Helpers from '../rhodonite/protocols/helpers'\nimport {Container, Header, Segment, Grid, Divider, Label, Popup} from 'semantic-ui-react'\nimport {RouteComponentProps} from 'react-router'\nimport { getLanguageAttribute } from 'src/rhodonite/protocols/helpers'\nimport { TitledDocument } from 'src/rhodonite/component';\n// import {BannerImage} from './banner'\nimport selfish from '../rhodonite/utils/selfish'\nimport { NotFound } from './notfound';\nimport {lazyImageOf} from '../rhodonite/lazyimage'\nimport { TargetLink } from 'src/rhodonite/smartLink';\nimport { NaiveRoseliaiCal } from 'src/rhodonite/utils/naiveical';\n\nconst notFoundMember: Protocol.MemberInfo = {\n    name: {\n        cn: '你是谁',\n        jp: '誰か',\n        en: 'Who are you?'\n    },\n    CVName: {\n        en: '',\n        cn: '',\n        jp: ''\n    },\n    role: 'NotFound',\n    birthday: '',\n    horoscope: '',\n    encoreColor: '',\n}\n\ninterface MemberPageLocationParams {\n    member: string\n}\n\ninterface MemberPageProps extends RouteComponentProps<MemberPageLocationParams> {\n    language: Protocol.SupportedLanguages,\n    siteConfig: Protocol.SiteConfig,\n    currentMember: Protocol.MemberInfo\n}\n\nexport function iterAttribute(attr: Protocol.MultiLanguageAttribute | Protocol.MultiLanguageAttribute[]) {\n    if (attr instanceof Array) return attr\n    return [attr]\n}\n\nexport function optionalBoolean (f?: boolean) {\n    return typeof f === 'undefined' || f\n}\n\nexport const IndentText = ({indent, children} :{indent?: boolean, children?: any}) => <p style={{textIndent: optionalBoolean(indent) ? '2em' : 'inherit', fontSize: '1.33em'}}>{children}</p>\nexport const HiddenText = ({hidden = true, children}: {hidden?: boolean, children?: any}) => <span className={hidden ? \"heimu\" : \"\"}>{children}</span>\n\nexport class MemberPage extends React.PureComponent<MemberPageProps> {\n    private methods = selfish(this)\n    public componentWillMount () {\n        // tslint:disable-next-line:no-console\n        // console.log(this.props)\n    }\n    public componentDidMount() {\n        // tslint:disable-next-line:no-console\n        window.scroll(0, 0)\n    }\n    private getCurrentMember() {\n        return this.props.currentMember || this.props.siteConfig.members.filter(x => Helpers.getLast(x.name.en.split(' ')).toLowerCase() === this.props.match.params.member.toLowerCase())[0]\n    }\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\n        return getLanguageAttribute(ctx, this.props.language)\n    }\n    private get member () {\n        return this.getCurrentMember() || notFoundMember\n    }\n    private get memberFound () {\n        return !!this.getCurrentMember()\n    }\n    private get isInBirthday() {\n        return Helpers.dummySameDate(new Date, this.member.birthday)\n    }\n    private downloadICal = () => {\n        const ical = new NaiveRoseliaiCal()\n        ical.addMemberBirthday(this.member, this.props.language, location.href)\n        ical.dummyDownload(`${this.getContextText(this.member.name)}.ics`)\n    }\n    private memberLayout = () => {\n        const member = this.member\n        return (\n            <div>\n                <Header\n                as='h1'\n                style={{\n                    fontSize: '4em',\n                    fontWeight: 'normal',\n                    marginBottom: 0,\n                    marginTop: '3em',\n                    color: member.encoreColor\n                }}\n                >\n                    {member.role ? `${member.role}.` : ''}{this.getContextText(member.name)}\n                </Header>\n                <Header\n                as='h2'\n                style={{\n                    fontSize: '1.7em',\n                    fontWeight: 'normal',\n                    marginTop: '1.5em',\n                    color: member.encoreColor\n                }}\n                >\n                    {this.getContextText(Helpers.mergeLanguageAttribute(member.CVName))}\n                </Header>\n                {this.isInBirthday && <Label size=\"huge\" icon=\"birthday cake\" content={this.getContextText({\n                    cn: '生日快乐',\n                    en: 'Happy Birthday',\n                    jp: 'お誕生日おめでとう'\n                })}/>}\n                {member.birthday ? (<Popup trigger={\n                        <Label as=\"a\" size=\"large\" icon=\"calendar plus outline\" content={this.getContextText({\n                            en: 'Remind me when birthday',\n                            cn: '生日的时候提醒我',\n                            jp: '誕生日を知らせる'\n                        })}\n                        onClick={this.downloadICal}\n                        style={{\n                            background: member.encoreColor,\n                            color: 'white'\n                        }}></Label>\n                    } content={this.getContextText({\n                        en: 'Add to system calendar',\n                        cn: '添加到系统日历',\n                        jp: 'システムカレンダーに追加'\n                    })} />) : null}\n                {member.topExtension ? <member.topExtension {...this.props} /> : null}\n            </div>\n        )\n    }\n    public render() {\n        if (!this.memberFound) return <NotFound></NotFound>\n        const member = this.member\n        const IntroLayout = this.methods.introLayout\n        // const getters = this.props.siteConfig.getters\n        return (\n            <TitledDocument title={this.getContextText(member.name)}>\n                <div style={{\n                    minHeight: \"61.8vh\"\n                }}>\n                    <Container text>\n                    <div>\n                        {this.memberLayout()}\n                    </div>\n                    \n                    </Container>\n                </div>\n                \n                <IntroLayout></IntroLayout>\n            </TitledDocument>\n            \n        )\n    }\n    private introLayout () {\n        const getters = this.props.siteConfig.getters\n        const member = this.member\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\n            <div>\n                <Header as='h4' style={{ fontSize: '2em' }}>\n                    {this.getContextText(p.header)}\n                </Header>\n                <IndentText indent={p.indent}>{p.children}</IndentText>\n                {/* <IndentText>\n                    {p.children}\n                </IndentText> */}\n                <Divider hidden></Divider>\n            </div>\n            \n        ) : (<div></div>)\n        const WikiLink = (wikiName: string, generator: (s: string) => string) => ({ wiki, as }: { wiki: string, as?: any }) => (\n            React.createElement(as || 'p', {}, <TargetLink link={generator(wiki)}>{wiki}({wikiName})</TargetLink>)\n        )\n        const MoegirlLink = WikiLink('萌娘百科', s => `https://zh.moegirl.org/${s}`)\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\n        return (\n            <Segment style={{ padding: '8em 0em' }} vertical>\n                <Grid container stackable verticalAlign='middle'>\n                    <Grid.Row>\n                    <Grid.Column width={8}>\n                        <AttrWithTitle header={{cn: \"生日\", jp:\"誕生日\", en: \"Birthday\"}}>\n                            {member.birthday}\n                        </AttrWithTitle>\n                        <AttrWithTitle when={!!member.bloodType} header={{cn: \"血型\", jp:\"血液型\", en: \"Blood Type\"}}>\n                            {member.bloodType}\n                        </AttrWithTitle>\n                        <AttrWithTitle indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\n                            <ul>\n                                <MoegirlLink as=\"li\" wiki={member.name.cn}></MoegirlLink>\n                                {iterAttribute(member.CVName).map(mlt => (\n                                <MoegirlLink as=\"li\" wiki={mlt.cn} key={mlt.en}></MoegirlLink>\n                            ))}\n                            </ul>\n                            \n                            \n                        </AttrWithTitle> \n                        <AttrWithTitle when={!!member.external} header=\"P.S.\">\n                            {member.external && member.external.map(ex => (\n                                <AttrWithTitle header={ex.title}>\n                                    {(ex.content instanceof Array) ? (\n                                        <ul>\n                                            {ex.content.map((e, idx) => (\n                                                <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\n                                            ))}\n                                        </ul>\n                            ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\n                                </AttrWithTitle>\n                            ))}\n                        </AttrWithTitle>\n                            \n                        {member.leftExtension ? <member.leftExtension {...this.props} /> : null}\n                    </Grid.Column>\n                    <Grid.Column floated='right' width={8}>\n                        <LazyImage fluid bordered rounded size='massive' src={getters.memberImageGetter(member)} />\n                        <Divider hidden />\n                        <LazyImage fluid bordered rounded size='massive' src={getters.cvImageGetter(member)} />\n                    </Grid.Column>\n                    </Grid.Row>\n                    \n                </Grid>\n            </Segment>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/member.tsx","import { TrackInfo, SupportedLanguages, MemberInfo, MultiLanguageAttribute } from '../protocols/encore';\nimport * as Helpers from '../protocols/helpers'\nimport * as FileSaver from 'file-saver'\n\ninterface IRoseliaEvent {\n    summary: string\n    start: any\n    end: any\n    allDay: boolean\n    description: string\n    repeat?: {\n        frequent: \"SECONDLY\" | \"MINUTELY\" | \"HOURLY\" | \"DAILY\"  | \"WEEKLY\" | \"MONTHLY\" | \"YEARLY\"\n        interval: number\n    }\n    url?: string\n}\nexport class NaiveRoseliaiCal {\n    private beginTemplate = (body: string) => `\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Roselia.moe//Encore\nCALSCALE:GREGORIAN\n${body}\nEND:VCALENDAR\n`\n    private eventTemplate = ({summary, start, end, allDay, description, repeat, url}: IRoseliaEvent) => `\nBEGIN:VEVENT\nSUMMARY:${summary}\nDTSTART;VALUE=DATE${allDay ? '' : '-TIME'}:${start}\nDTEND;VALUE=DATE${allDay ? '' : '-TIME'}:${end}\nDTSTAMP;VALUE=DATE${allDay ? '' : '-TIME'}:${start}\nUID:${start}@encore.roselia.moe\nDESCRIPTION:${description}\n${repeat ? ('RRULE:FREQ='+repeat.frequent.toUpperCase() + ';INTERVAL=' + repeat.interval) : ''}\n${url ? ('URL;VALUE=URI:' + encodeURI(url)) : ''}\nEND:VEVENT\n`\n    private events: IRoseliaEvent[] = []\n    public makeCalendar(events: IRoseliaEvent[]) {\n        return this.beginTemplate(events.map(this.eventTemplate).join('\\n'))\n    }\n\n    public formatDate = (d: Date) => d.toISOString().split('T')[0].replace(/-/g, '')\n\n    public formatDateFromString = (d: string | Date, delta: number = 0) => {\n        try {\n            const date = new Date(d)\n            date.setMinutes(date.getMinutes() - date.getTimezoneOffset())\n            return this.formatDate(new Date(date.getTime() + delta * 24*60*60*1000))\n        } catch {\n            if(typeof d !== 'string') return this.formatDate(d) \n            return d.replace(/-/g, '').replace(/\\//g, '')\n        }\n    }\n\n    public toString() {\n        return this.makeCalendar(this.events).replace('\\n\\n', '\\n').trim()\n    }\n\n    private addEvent(event: IRoseliaEvent | IRoseliaEvent[]) {\n        if (event instanceof Array) {\n            event.forEach(ev => this.addEvent(ev))\n        } else {\n            this.events.push(event)\n        }\n    }\n\n    public addTrackRelease(track: TrackInfo, language: SupportedLanguages, url?: string) {\n        this.addEvent({\n            summary: track.title,\n            start: this.formatDateFromString(track.releaseDate),\n            end: this.formatDateFromString(track.releaseDate, 1),\n            allDay: true,\n            description: `${track.displayId || (track.id + Helpers.getPositionByNum(track.id))} ${track.type}: ${track.title} ${Helpers.getLanguageAttribute(\n                {\n                    jp: '発売',\n                    cn: '发售',\n                    en: 'released'\n                }, language\n            )}!`,\n            url\n        })\n    }\n\n    public addMemberBirthday(member: MemberInfo, language: SupportedLanguages, url: string) {\n        const getLanguage = (mlt: MultiLanguageAttribute | MultiLanguageAttribute[]) => Helpers.getLanguageAttribute(Helpers.getLastLanguageAttribute(mlt), language)\n        const [month, date] = member.birthday.split(/(?:-|\\/)/)\n        const dt = new Date\n        dt.setMonth(parseInt(month, 10) - 1)\n        dt.setDate(parseInt(date, 10))\n        this.addEvent({\n            summary: getLanguage(member.name) + getLanguage({\n                cn: '的生日',\n                en: \"'s birthday\",\n                jp: 'のお誕生日'\n            }),\n            start: this.formatDateFromString(dt),\n            end: this.formatDateFromString(dt, 1),\n            allDay: true,\n            description: `${member.role}.${getLanguage(member.name)}. CV: ${getLanguage(member.CVName)}`,\n            repeat: {\n                frequent: 'YEARLY',\n                interval: 1\n            },\n            url\n        })\n    }\n\n    public getBlob () {\n        return new Blob([this.toString()], {\n            type: 'text/calendar'\n        })\n    }\n\n    public async getBlobAsync () {\n        return this.getBlob()\n    }\n\n    public async getBlobUrl() {\n        const blob = await this.getBlobAsync()\n        return URL.createObjectURL(blob);\n    }\n\n    public releaseBlobUrl(url: string) {\n        URL.revokeObjectURL(url);\n    }\n\n    public async downloadCalendar(fileName: string) {\n        const blob = await this.getBlobAsync()\n        FileSaver.saveAs(blob, fileName)\n    }\n\n    public async dummyDownload(fileName: string) {\n        const href = await this.getBlobUrl()\n        const link = document.createElement('a')\n        link.download = fileName\n        link.href = href\n        link.click()\n        setTimeout(() => this.releaseBlobUrl(href), 4e4)\n        // this.downloadCalendar(fileName)\n    }\n\n    public getDataURLAsync (): Promise<string> {\n        return new Promise(r => {\n            const fr = new FileReader\n            fr.addEventListener('load', () => r(fr.result as string))\n            fr.readAsDataURL(this.getBlob())\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/utils/naiveical.ts","import * as React from 'react'\nimport './encore.css'\n// import {Image} from 'semantic-ui-react'\nimport {BannerImageConfig} from '../rhodonite/protocols/encore'\n\nexport class BannerImage extends React.Component<BannerImageConfig> {\n    get gradient () {\n        if (typeof this.props.gradient === 'undefined') return \"linear-gradient(45deg, rgba(20, 9, 49, 0.7) 0%, rgba(23, 0, 35, 0.68) 16%, rgba(1, 63, 145, 0.6) 78%, rgba(1, 64, 147, 0.57) 79%, rgba(1, 64, 147, 0.19) 93%, rgba(114, 197, 241, 0) 100%)\"\n        return this.props.gradient\n    }\n    private fillHeight: React.CSSProperties = {\n        height: '100vh',\n        width: '100%',\n    }\n    private get backGroundStyle(): React.CSSProperties {\n        return {\n            ...this.fillHeight,\n            backgroundImage: this.gradient ? `${this.gradient}, url('${this.props.background}')` : `url('${this.props.background}')`,\n            backgroundSize: 'cover',\n            ...(this.props.foreground ? {\n                filter: 'blur(25px) saturate(120%)',\n                animation: 'blur-clear 1s ease-in-out',\n                animationDelay: '1s',\n                animationFillMode: 'backwards',\n            } : {}),\n            \n            position: 'absolute',\n            zIndex: 1\n        }\n    }\n    private bannerImageStyle: React.CSSProperties = {\n        ...this.fillHeight,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-end',\n        position: 'absolute',\n        zIndex: 2\n    }\n\n    private imageStyle: React.CSSProperties = {\n        width: '61.8vw',\n        filter: 'contrast(130%)',\n        animation: 'blur-clear 1s ease-in-out reverse',\n        animationDelay: '2s',\n        animationFillMode: 'backwards'\n    }\n\n    public render() {\n        return (\n            <div>\n                <div className=\"hidden-xs banner\" style={{height: '108vh'}}>\n                    <div style={this.backGroundStyle}></div>\n                    \n                    <div style={this.bannerImageStyle}>\n                        <div style={{height: 'inherit'}}>{this.props.children}</div>\n                        {this.props.foreground &&<img src={this.props.foreground} style={this.imageStyle}></img>}\n                    </div>\n                    \n                </div>\n                {/* <div className=\"visible-xs\">\n                    <Image src=\"img/logo.png\"></Image>\n                </div> */}\n            </div>\n            \n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/banner.tsx","import * as React from 'react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport * as Helpers from '../rhodonite/protocols/helpers'\nimport {RouteComponentProps} from 'react-router'\nimport {HiddenText, IndentText, optionalBoolean} from './member'\nimport {Header, Container, Segment, Divider, Grid, Label, Popup} from 'semantic-ui-react'\nimport { NotFound } from './notfound';\nimport { TitledDocument } from 'src/rhodonite/component';\nimport {lazyImageOf} from '../rhodonite/lazyimage'\nimport { TargetLink } from 'src/rhodonite/smartLink';\nimport { NaiveRoseliaiCal } from 'src/rhodonite/utils/naiveical';\n// import {cached} from '../rhodonite/utils/property'\n\ninterface TrackLocationProps {\n    trackType: Protocol.TrackType\n    trackId: string\n}\ninterface TrackPageProps extends RouteComponentProps<TrackLocationProps> {\n    language: Protocol.SupportedLanguages\n    siteConfig: Protocol.SiteConfig\n}\n\nconst {getPositionByNum} = Helpers\n\nabstract class TrackPage extends React.Component<TrackPageProps> {\n    private cachedTrack: Protocol.TrackInfo | undefined = undefined\n    protected abstract getCurrentTrack (): Protocol.TrackInfo | undefined\n    public componentDidMount () {\n        window.scrollTo(0, 0)\n    }\n\n    // @cached\n    protected findIn (ls: Protocol.TrackInfo[]) {\n        const matchByDisplayid = ls.find(x => x.displayId === this.props.match.params.trackId)\n        if (matchByDisplayid){\n            return matchByDisplayid\n        }\n        const regex = /(\\d+)(\\w+)/\n        const matchRes = regex.exec(this.props.match.params.trackId)\n        if (matchRes) {\n            const [_, idx, pos] = matchRes\n            const intIdx = parseInt(idx, 10)\n            if (getPositionByNum(intIdx) === pos.toLowerCase()) return ls.find(x => x.id === intIdx)\n        }\n        return void 0\n    }\n\n    private get track () {\n        if (this.cachedTrack) return this.cachedTrack\n        return this.cachedTrack = this.getCurrentTrack()!\n    }\n    private hasValidTrack () {\n        return !!this.track\n    }\n    private getContextText(ctx: Protocol.MultiLanguageAttribute | string) {\n        return Helpers.getLanguageAttribute(ctx, this.props.language)\n    }\n\n    private get calendarIconClass() {\n        const released = this.trackReleaseState\n        if (typeof released === 'undefined') return 'calendar outline'\n        if (released > 0) return 'calendar check outline'\n        if (released < 0) return 'calendar plus outline'\n        return 'calendar alternate outline'\n    }\n\n    private get trackReleaseState() {\n        try {\n            const date = new Date(this.track.releaseDate)\n            const today = new Date\n            if (Helpers.sameDate(today, true)(date)) return 0\n            if (date > today) return -1\n            return 1\n        } catch {\n            return undefined\n        }\n    }\n\n    private downloadICal = () => {\n        const rCal = new NaiveRoseliaiCal()\n        rCal.addTrackRelease(this.track, this.props.language, location.href)\n        rCal.dummyDownload(`${this.track.title}.ics`)\n    }\n\n    private get localReleaseDate () {\n        try {\n            return (new Date(this.track.releaseDate)).toLocaleDateString()\n        } catch {\n            return this.track.releaseDate\n        }\n    }\n    \n    private introLayout () {\n        const track = this.track\n        return (\n            <div>\n                <Header\n                as='h1'\n                style={{\n                    fontSize: '4em',\n                    fontWeight: 'normal',\n                    marginBottom: 0,\n                    marginTop: '3em'\n                }}\n                >\n                    {track.title}\n                </Header>\n                <Header\n                as='h2'\n                style={{\n                    fontSize: '1.7em',\n                    fontWeight: 'normal',\n                    marginTop: '1.5em'\n                }}\n                >\n                    {track.displayId ? track.displayId : `${track.id}${getPositionByNum(track.id)} ${Helpers.capatialize(track.type||'')}`}\n                </Header>\n                {track.releaseDate ? ((this.trackReleaseState && this.trackReleaseState < 0) ? (\n                    <Popup trigger={\n                        <Label as=\"a\" color=\"violet\" size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}\n                        onClick={this.downloadICal} />\n                    } content={this.getContextText({\n                        en: 'Add to system calendar',\n                        cn: '添加到系统日历',\n                        jp: 'システムカレンダーに追加'\n                    })} />\n                ) : <Label color=\"green\" size=\"large\" icon={this.calendarIconClass} content={this.localReleaseDate}/>) : null}\n                {/* {JSON.stringify(this.props.match)} */}\n                {track.topExtension ? <track.topExtension {...this.props} /> : null}\n            </div>\n        )\n    }\n    private infoLayout () {\n        const getters = this.props.siteConfig.getters\n        const track = this.track\n        const AttrWithTitle = (p: {header: string | Protocol.MultiLanguageAttribute, children?:any, when?: boolean, indent?: boolean}) => optionalBoolean(p.when) ? (\n            <div>\n                <Header as='h4' style={{ fontSize: '2em' }}>\n                    {this.getContextText(p.header)}\n                </Header>\n                <IndentText indent={p.indent}>{p.children}</IndentText>\n                {/* <IndentText>\n                    {p.children}\n                </IndentText> */}\n                <Divider hidden/>\n            </div>\n            \n        ) : (<div/>)\n        const LazyImage = lazyImageOf(this.props.siteConfig.siteLogo)\n        \n        return (\n            <Segment style={{ padding: '8em 0em' }} vertical>\n                <Grid container stackable verticalAlign='middle'>\n                    <Grid.Row>\n                        <Grid.Column width={8}>\n                            <AttrWithTitle indent={false} header={{cn: \"音轨\", jp:\"収録内容\", en:\"Track\"}}>\n                                <ol>\n                                    {track.track.map((s, i) => (\n                                        <li key={i}>{s}</li>\n                                    ))}\n                                </ol>\n                            </AttrWithTitle>\n                            <AttrWithTitle when={!!track.links} indent={false} header={{cn: \"链接\", jp:\"リンク\", en: \"Links\"}}>\n                                <ul>\n                                    {track.links && track.links.map((l, i) => (\n                                        <li key={i}>\n                                            <TargetLink link={l.link}>{l.description}</TargetLink>\n                                        </li>\n                                    ))}\n                                </ul>\n                                \n                                \n                            </AttrWithTitle> \n                            {track.external && track.external.map(ex => (\n                                <AttrWithTitle key={ex.title} header={ex.title}>\n                                    {(ex.content instanceof Array) ? (\n                                        <ul>\n                                            {ex.content.map((e, idx) => (\n                                                <li key={idx}><HiddenText hidden={ex.hidden}>{this.getContextText(e)}</HiddenText></li>\n                                            ))}\n                                        </ul>\n                            ) : (<HiddenText hidden={ex.hidden}>{this.getContextText(ex.content)}</HiddenText>)}\n                                </AttrWithTitle>\n                            ))}\n                            {track.leftExtension ? <track.leftExtension {...this.props}/> : null}\n                        </Grid.Column>\n                        <Grid.Column floated='right' width={8}>\n                            <LazyImage fluid bordered rounded size='massive' src={getters.trackImageGetter(track)} />\n                            <Divider hidden />\n                            {track.hasLimitedEdition && (\n                                <LazyImage fluid bordered rounded size='massive' src={getters.limitedTrackImageGetter(track)} />)}\n                            {track.rightExtension && <Divider hidden />}\n                            {track.rightExtension ? <track.rightExtension {...this.props}/> : null}\n                        </Grid.Column>\n                    </Grid.Row>\n                    \n                </Grid>\n            </Segment>\n        )\n    }\n    public render() {\n        const track = this.track\n        if (!this.hasValidTrack()) {\n            return <NotFound/>\n        }\n        return (\n            <TitledDocument title={track.title}>\n                <div style={{\n                    minHeight: \"61.8vh\"\n                }}>\n                    <Container text>\n                    <div>\n                        {this.introLayout()}\n                    </div>\n                    \n                    </Container>\n                </div>\n                {this.infoLayout()}\n                {/* <IntroLayout></IntroLayout> */}\n            </TitledDocument>\n        )\n    }\n}\n\nexport class SingleTrackPage extends TrackPage {\n    protected getCurrentTrack () {\n        return this.findIn(this.props.siteConfig.singles)\n    }\n}\n\nexport class AlbumTrackPage extends TrackPage {\n    protected getCurrentTrack() {\n        return this.findIn(this.props.siteConfig.albums!)\n    }\n}\n\nexport function customTrackPage(tp: Protocol.ExternalTrackList) {\n    return class extends TrackPage {\n        protected getCurrentTrack () {\n            return this.findIn(tp.trackList)\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/track.tsx","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/dist/FileSaver.min.js\n// module id = 762\n// module chunks = 0","import * as React from 'react'\nimport {Modal, Grid, Header, Divider} from 'semantic-ui-react'\nimport * as Protocol from '../rhodonite/protocols/encore'\nimport {/*RouteComponentProps,*/ Route} from 'react-router'\nimport {EncoreSection, EncoreSectionProps, EncoreCard} from './section'\n\nexport interface RouterParams {\n    recommandId: string\n}\n\ninterface VideoSectionProps {\n    siteConfig: Protocol.SiteConfig\n    videos: Protocol.RecommandVideoAdapter[]\n    indexPage: string\n}\n\nexport interface VideoModalProps /*extends RouteComponentProps<RouterParams>*/ {\n    visible: boolean\n    videoLib: Protocol.RecommandVideoAdapter[]\n    forceVideo?: Protocol.RecommandVideoAdapter\n    onClose?: () => void\n}\n\ninterface VideoSectionState {\n    isVisible: boolean\n    currentVideo?: Protocol.RecommandVideoAdapter\n}\n\nclass VideoModal extends React.Component<VideoModalProps> {\n    \n    private getVideoAdapter(): Protocol.RecommandVideoAdapter | undefined {\n        const props = this.props\n        if(props.forceVideo) return props.forceVideo\n        return undefined\n        // const idx = parseInt(props.match.params.recommandId, 10)\n        // if (isNaN(idx)) return undefined\n        // return props.videoLib[idx]\n    }\n    private get videoAdapter() {\n        return this.getVideoAdapter()!\n    }\n\n    private renderModal() {\n        const adapter = this.videoAdapter\n        const video = adapter && adapter.videos\n        if (!video) return null\n        const videos = video.videos\n        return (\n            <Modal dimmer=\"blurring\" open={this.props.visible} onClose={this.props.onClose}>\n                <Modal.Header>{video.name}</Modal.Header>\n                <Modal.Content>\n                    {video.authors.length === 1 && \n                    (<div>\n                        <Modal.Description>\n                            <Header>{video.authors[0]}</Header>\n                        </Modal.Description>\n                        <Divider/>\n                    </div>)\n                    }\n                    <Grid stackable>\n                        <Grid.Row columns={4}>\n                            {videos.map(v => (\n                                <EncoreCard key={v.title} {...{\n                                    title: v.title,\n                                    image: v.coverImage,\n                                    link: adapter.getLink(v.aid),\n                                    meta: video.authors.length === 1 ? undefined : v.author\n                                }}></EncoreCard>\n                            ))}\n                        </Grid.Row>\n                    </Grid>\n                    \n                </Modal.Content>\n            </Modal>\n        )\n    }\n    public render() {\n        return this.renderModal()\n    }\n}\n\nexport class VideoSection extends React.Component<VideoSectionProps, VideoSectionState> {\n    public constructor(props: VideoSectionProps) {\n        super(props)\n        this.state = {\n            isVisible: false,\n            currentVideo: undefined\n        }\n    }\n\n    private section = () => {\n        const sectionProps: EncoreSectionProps = {\n            title: '更多资源……',\n            columns: 4,\n            data: (this.props.videos).map(v => {\n                const video = v.videos!\n                return ({\n                    title: video.name,\n                    image: video.videos![0].coverImage,\n                    meta: video.authors.length === 1 ? video.authors[0] : undefined,\n                    link: video.videos.length === 1 ? video.getLink(video.videos[0].aid) : undefined,\n                    onClick: () => {\n                        this.setState({\n                            currentVideo: v,\n                            isVisible: true\n                        })\n                    }\n                })\n            })\n        }\n        return <EncoreSection {...sectionProps}></EncoreSection>\n    }\n\n    public closeModal = () => this.setState({\n        isVisible: false\n    })\n\n    // public renderModal = (props: RouteComponentProps<RouterParams>) => (\n    //     <VideoModal videoLib={this.props.videos} visible={true} {...props}></VideoModal>\n    // )\n\n    public render() {\n        return (<div>\n            <Route path={this.props.indexPage} render={this.section}></Route>\n            <VideoModal videoLib={this.props.videos} visible={this.state.isVisible} forceVideo={this.state.currentVideo} onClose={this.closeModal}></VideoModal>\n            {/* <Route path={this.props.indexPage + '/recommand/:recommandId/'} render={this.renderModal}></Route> */}\n        </div>)\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/video.tsx","import * as React from 'react'\nimport {EncoreSection, EncoreSectionProps} from './section'\nimport {SupportedLanguages, MultiLanguageAttribute, SiteConfig} from '../rhodonite/protocols/encore'\nimport {getLanguageAttribute} from '../rhodonite/protocols/helpers'\n\nexport const bangumiSection = (si: SiteConfig, language: SupportedLanguages) => {\n    const ti = si.bangumiList!\n    const languageGetter = (ml: MultiLanguageAttribute) => getLanguageAttribute(ml, language || 'cn')\n    const sectionProps: EncoreSectionProps = {\n        title: languageGetter({\n            cn: '番剧',\n            en: 'Anime',\n            jp: 'アニメ番組'\n        }),\n        columns: 4 as 4,\n        data: ti.map(t => ({\n            title: `${t.name}`,\n            image: t.coverImage,\n            meta: t.meta,\n            link: t.link\n        })),\n        lazyImageSrc: si.siteLogo\n    }\n    return <EncoreSection {...sectionProps}></EncoreSection>\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/bangumi.tsx"],"sourceRoot":""}