{"version":3,"sources":["encoreInfo/roseliaLyric.tsx","rhodonite/lazycomponent.tsx","webpack:///./src/rhodonite/lazycomponent.css?c96c","rhodonite/lazycomponent.css"],"names":["RoseliaLyrics","_super","props","_this","call","this","getLyric","__WEBPACK_IMPORTED_MODULE_0_tslib__","setState","loading","fetch","_b","sent","json","data","lyric","state","album","at","id","name","cnLyric","jpLyric","type","link","picUrl","prototype","shouldComponentUpdate","newState","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_4__rhodonite_protocols_helpers__","renderContent","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_2_semantic_ui_react__","Dimmable","as","blurring","dimmed","Group","Image","size","src","Content","verticalAlign","Header","Description","Extra","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","to","currentLink","content","icon","disabled","onClick","render","__WEBPACK_IMPORTED_MODULE_5__rhodonite_lazycomponent__","onVisible","LazyComonent","setVisible","visible","getPlaceHolder","placeHolder","Function","Paragraph","listener","once","onTopVisible","onBottomVisible","children","__webpack_require__","module","i","options","hmr","transform","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/1.db5f2b2e.chunk.js","sourcesContent":["import * as React from 'react'\nimport {TrackType} from '../rhodonite/protocols/encore'\nimport {Item, Button, Segment, Dimmer, Label} from 'semantic-ui-react'\nimport {Link} from 'react-router-dom'\nimport {getPositionByNum} from '../rhodonite/protocols/helpers'\nimport {LazyComonent} from '../rhodonite/lazycomponent'\n\ninterface RandomLyric {\n    album: string\n    at: string\n    id: number\n    cnLyric: string\n    jpLyric: string\n    lyric: string\n    name: string\n    type: TrackType,\n    link: string\n    picUrl: string\n}\n\ninterface RoseliaLyricsState {\n    lyric: RandomLyric\n    loading: boolean\n}\n\nexport class RoseliaLyrics extends React.Component<{}, RoseliaLyricsState> {\n    constructor (props: object) {\n        super(props)\n        this.state = {\n            lyric: {\n                album: '', \n                at: '', \n                id: 1, \n                lyric: '', \n                name: '', \n                cnLyric: '',\n                jpLyric: '',\n                type: 'album',\n                link: '',\n                picUrl: ''\n            },\n            loading: false\n        }\n    }\n    public shouldComponentUpdate(newState: RoseliaLyricsState) {\n        return newState.loading !== this.state.loading || newState.lyric.name !== this.state.lyric.name || newState.lyric.at !== this.state.lyric.at\n    }\n    private getLyric = async () => {\n        this.setState({\n            loading: true\n        })\n        try{\n            const j = await fetch('https://roselia.moe/blog/api/roselia/lyric/random');\n            const data = await j.json();\n            this.setState({\n                loading: false,\n                lyric: data\n            });\n        } catch {\n            this.setState({\n                loading: false\n            })\n        }\n    }\n\n    private get currentLink () {\n        const lyric = this.state.lyric\n        return `${lyric.type}/${lyric.id}${getPositionByNum(lyric.id)}`\n    }\n\n    private renderContent() {\n        const lyric = this.state.lyric\n        return (\n            <Dimmer.Dimmable as={Segment} blurring dimmed={this.state.loading}>\n                <Item.Group>\n                    <Item>\n                        <Item.Image size=\"small\" src={lyric.picUrl} />\n                        <Item.Content verticalAlign=\"middle\">\n                            <Item.Header>\n                                <p><span>{lyric.jpLyric}</span></p>\n                                <p><span>{lyric.cnLyric}</span></p>\n                            </Item.Header>\n                            <Item.Description>{lyric.name}</Item.Description>\n                            <Item.Extra>\n                                <Label as={Link} to={this.currentLink} content={lyric.album} />\n                                <Label icon='time' content={lyric.at}/>\n                            </Item.Extra>\n                            <Item.Extra>\n                                <Button disabled={this.state.loading} size=\"small\" icon=\"refresh\" onClick={this.getLyric}></Button>\n                            </Item.Extra>\n                        </Item.Content>\n                    </Item>\n                </Item.Group>\n            </Dimmer.Dimmable>\n        )\n    }\n\n    public render() {\n        return (\n            <LazyComonent onVisible={this.getLyric}>{this.renderContent()}</LazyComonent>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/encoreInfo/roseliaLyric.tsx","import * as React from 'react'\nimport {Placeholder, Visibility} from 'semantic-ui-react'\nimport './lazycomponent.css'\n\n\ninterface LazyComonentState {\n    visible: boolean\n}\n\n\ninterface LazyComonentProps {\n    placeHolder?: (() => JSX.Element | React.ReactNode) | JSX.Element | React.ReactNode\n    onVisible?: () => void\n    [ext: string]: any\n}\n\n\nexport class LazyComonent extends React.Component<LazyComonentProps, LazyComonentState> {\n    public constructor(props: LazyComonentProps) {\n        super(props)\n        this.state = {\n            visible: false\n        }\n    }\n    private setVisible = () => {\n        if(this.props.onVisible) this.props.onVisible()\n        this.setState({\n            visible: true\n        })\n    }\n    public shouldComponentUpdate () {\n        return this.state.visible\n    }\n    private getPlaceHolder () {\n        const {placeHolder} = this.props\n        if (placeHolder) {\n            if(placeHolder instanceof Function) {\n                return placeHolder()\n            }\n            return placeHolder\n        }\n        return (\n            <Placeholder>\n                <Placeholder.Paragraph></Placeholder.Paragraph>\n            </Placeholder>\n        )\n    }\n    private listener () {\n        return (\n            <Visibility once onTopVisible={this.setVisible} onBottomVisible={this.setVisible}></Visibility>\n        )\n    }\n    public render() {\n        return this.state.visible ? this.props.children : (\n            <div>\n                {this.listener()}\n                {this.getPlaceHolder()}\n            </div>\n        )\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/rhodonite/lazycomponent.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./lazycomponent.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/rhodonite/lazycomponent.css\n// module id = 737\n// module chunks = 0 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"@-webkit-keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}@keyframes rhodonite-fade-in-animate{0%{opacity:0}to{opacity:1}}.rhodonite-fade-in{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out;animation:rhodonite-fade-in-animate .37s ease-in-out}.rhodonite-fade-out{-webkit-animation:rhodonite-fade-in-animate .37s ease-in-out reverse;animation:rhodonite-fade-in-animate .37s ease-in-out reverse}\", \"\", {\"version\":3,\"sources\":[\"/Users/mohuetykirisame/Documents/GitHub/roselia-encore-react/src/rhodonite/lazycomponent.css\"],\"names\":[],\"mappings\":\"AAAA,6CACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,qCACI,GAAM,SAAW,CAAC,AAClB,GAAI,SAAW,CAAC,CACnB,AAED,mBACI,6DAA8D,AACtD,oDAAsD,CACjE,AACD,oBACI,qEAAsE,AAC9D,4DAA8D,CACzE\",\"file\":\"lazycomponent.css\",\"sourcesContent\":[\"@-webkit-keyframes rhodonite-fade-in-animate {\\n    from {opacity: 0;}\\n    to {opacity: 1;}\\n}\\n\\n@keyframes rhodonite-fade-in-animate {\\n    from {opacity: 0;}\\n    to {opacity: 1;}\\n}\\n\\n.rhodonite-fade-in {\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out;\\n            animation: rhodonite-fade-in-animate .37s ease-in-out;\\n}\\n.rhodonite-fade-out {\\n    -webkit-animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\n            animation: rhodonite-fade-in-animate .37s ease-in-out reverse;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/rhodonite/lazycomponent.css\n// module id = 738\n// module chunks = 0 1"],"sourceRoot":""}